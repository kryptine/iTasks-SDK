|| ?module? iTasks._Framework.WebService


iTasks._Framework.WebService.onConnect_25 host_0 r_1 !iworld_2 = select iworld_2 (iTasks._Framework.IWorld._IWorld server_1_0 config_1_1 clocks_1_2 current_1_3 random_1_4 sdsNotifyRequests_1_5 memoryShares_1_6 cachedShares_1_7 exposedShares_1_8 jsCompilerState_1_9 refreshQueue_1_10 ioTasks_1_11 ioStates_1_12 world_1_13 resources_1_14 onClient_1_15 shutdown_1_16 -> let _x_2_0 = System.Time.time world_1_13 in _Tuple5 (Data.Error.Ok (iTasks._Framework.WebService.NTIdle host_0 (_predefined.tupsels2v0 _x_2_0))) Data.Maybe.Nothing _predefined._Nil False (iTasks._Framework.IWorld.set_world_13 iworld_2 (_predefined.tupsels2v1 _x_2_0))) 
iTasks._Framework.WebService.selectHandler_28 req_0 !_x_1 = select _x_1 (_predefined._Nil -> Data.Maybe.Nothing) (_predefined._Cons h_1_0 hs_1_1 -> select h_1_0 (_Tuple5 pred_2_0 _x_2_1 _x_2_2 _x_2_3 _x_2_4 -> if (pred_2_0 (Internet.HTTP.get_req_path_6 req_0)) (Data.Maybe.Just h_1_0) (iTasks._Framework.WebService.selectHandler_28 req_0 hs_1_1)) ) 
iTasks._Framework.WebService.anon_23 !h_0 = <{StdString.==_2}> (Text.toLowerCase_16 h_0) "keep-alive"
iTasks._Framework.WebService.isKeepAlive_29 !request_0 = Data.Maybe.maybe (<{StdString.==_2}> (Internet.HTTP.get_req_version_8 request_0) "HTTP/1.1") iTasks._Framework.WebService.anon_23 (Data.Map.get (<{StdOverloaded.<;}> <{StdString.<_3}>) "Connection" (Internet.HTTP.get_req_headers_10 request_0))
iTasks._Framework.WebService.addDefault_24 !<{_v==_0}> headers_1 hdr_2 val_3 = if (<{iTasks._Framework.WebService._c;364;71_615}> (Data.List.lookup <{_v==_0}> hdr_2 headers_1)) (_predefined._Cons (_Tuple2 hdr_2 val_3) headers_1) headers_1
<{iTasks._Framework.WebService._c;364;71_615}> !_x_0 = select _x_0 (Data.Maybe.Nothing -> True) (_ -> False)
iTasks._Framework.WebService.addDefault_593 headers_0 hdr_1 val_2 = if (<{iTasks._Framework.WebService._c;364;71_616}> (Data.List.lookup (<{StdOverloaded.==;}> <{StdString.==_2}>) hdr_1 headers_0)) (_predefined._Cons (_Tuple2 hdr_1 val_2) headers_0) headers_0
<{iTasks._Framework.WebService._c;364;71_616}> !_x_0 = select _x_0 (Data.Maybe.Nothing -> True) (_ -> False)
iTasks._Framework.WebService.encodeResponse_30 autoContentLength_0 !response_1 = select response_1 (Internet.HTTP._HTTPResponse rsp_code_1_0 rsp_reason_1_1 rsp_headers_1_2 rsp_data_1_3 -> Internet.HTTP.toString_18 (Internet.HTTP.set_rsp_headers_21 response_1 (<{iTasks._Framework.WebService._if;359;25_617}> autoContentLength_0 rsp_headers_1_2 rsp_data_1_3))) 
<{iTasks._Framework.WebService._if;359;25_617}> !autoContentLength_0 rsp_headers_1 rsp_data_2 = select autoContentLength_0 (True -> iTasks._Framework.WebService.addDefault_593 (iTasks._Framework.WebService.addDefault_593 (iTasks._Framework.WebService.addDefault_593 rsp_headers_1 "Server" "iTasks HTTP Server") "Content-Type" "text/html") "Content-Length" (StdString.toString_5 (_SystemArray.size_20 rsp_data_2))) (_ -> iTasks._Framework.WebService.addDefault_593 (iTasks._Framework.WebService.addDefault_593 rsp_headers_1 "Server" "iTasks HTTP Server") "Content-Type" "text/html")
iTasks._Framework.WebService.whileConnected_26 keepAliveTime_0 port_1 requestProcessHandlers_2 mbData_3 !connState_4 r_5 env_6 = select connState_4 (iTasks._Framework.WebService.NTProcessingRequest request_1_0 localState_1_1 -> <{iTasks._Framework.WebService._c;271;11_618}> (iTasks._Framework.WebService.selectHandler_28 request_1_0 requestProcessHandlers_2) request_1_0 r_5 mbData_3 localState_1_1 env_6 connState_4) (_ -> select mbData_3 (Data.Maybe.Just data_1_0 -> let rstate_2_0 = <{iTasks._Framework.WebService._c;283;20_619}> connState_4 port_1 data_1_0 in if (iTasks._Framework.WebService.get_error_4 rstate_2_0) (_Tuple5 (Data.Error.Ok connState_4) Data.Maybe.Nothing (_predefined._Cons "HTTP/1.1 400 Bad Request\r\n\r\n" _predefined._Nil) True env_6) (if (StdBool.not (iTasks._Framework.WebService.get_headers_done_2 rstate_2_0)) (_Tuple5 (Data.Error.Ok (iTasks._Framework.WebService.NTReadingRequest rstate_2_0)) Data.Maybe.Nothing _predefined._Nil False env_6) (<{iTasks._Framework.WebService._c;302;11_625}> (iTasks._Framework.WebService.selectHandler_28 (iTasks._Framework.WebService.get_request_0 rstate_2_0) requestProcessHandlers_2) connState_4 env_6 rstate_2_0 r_5))) (Data.Maybe.Nothing -> select connState_4 (iTasks._Framework.WebService.NTIdle ip_2_0 _x_2_1 -> select _x_2_1 (System.Time.Timestamp t_3_0 -> select env_6 (iTasks._Framework.IWorld._IWorld server_4_0 config_4_1 clocks_4_2 current_4_3 random_4_4 sdsNotifyRequests_4_5 memoryShares_4_6 cachedShares_4_7 exposedShares_4_8 jsCompilerState_4_9 refreshQueue_4_10 ioTasks_4_11 ioStates_4_12 world_4_13 resources_4_14 onClient_4_15 shutdown_4_16 -> let _x_5_0 = System.Time.time world_4_13 in _Tuple5 (Data.Error.Ok connState_4) Data.Maybe.Nothing _predefined._Nil (StdBool.not (<{StdInt.<_17}> (_predefined.tupsels1v0 (_predefined.tupsels2v0 _x_5_0)) (<{StdInt.+_6}> t_3_0 keepAliveTime_0))) (iTasks._Framework.IWorld.set_world_13 env_6 (_predefined.tupsels2v1 _x_5_0))) ) ) (_ -> _Tuple5 (Data.Error.Ok connState_4) Data.Maybe.Nothing _predefined._Nil False env_6)) )
<{iTasks._Framework.WebService._c;302;11_625}> !_x_0 connState_1 env_2 rstate_3 r_4 = select _x_0 (Data.Maybe.Nothing -> _Tuple5 (Data.Error.Ok connState_1) Data.Maybe.Nothing (_predefined._Cons "HTTP/1.1 404 Not Found\r\n\r\n" _predefined._Nil) True env_2) (Data.Maybe.Just _x_1_0 -> select _x_1_0 (_Tuple5 _x_2_0 completeRequest_2_1 newReqHandler_2_2 procReqHandler_2_3 _x_2_4 -> if (<{iTasks._Framework.WebService._c;302;11_625_select0}> _x_2_0 completeRequest_2_1 newReqHandler_2_2 procReqHandler_2_3 _x_2_4 _x_1_0 _x_0 connState_1 env_2 rstate_3 r_4) (let request_3_0 = <{iTasks._Framework.WebService._if;308;35_620}> completeRequest_2_1 rstate_3, _x_3_1 = newReqHandler_2_2 request_3_0 r_4 env_2, env_3_2 = _predefined.tupsels4v3 _x_3_1, mbW_3_3 = _predefined.tupsels4v2 _x_3_1, response_3_4 = _predefined.tupsels4v0 _x_3_1 in <{iTasks._Framework.WebService._c;316;23_624}> (_predefined.tupsels4v1 _x_3_1) request_3_0 env_3_2 rstate_3 mbW_3_3 response_3_4 connState_1) (_Tuple5 (Data.Error.Ok (iTasks._Framework.WebService.NTReadingRequest rstate_3)) Data.Maybe.Nothing _predefined._Nil False env_2)) ) 
<{iTasks._Framework.WebService._c;302;11_625_select0}> _x_2_0 completeRequest_2_1 newReqHandler_2_2 procReqHandler_2_3 _x_2_4 _x_1_0 !_x_0 connState_1 env_2 rstate_3 r_4 = if (iTasks._Framework.WebService.get_data_done_3 rstate_3) True (StdBool.not completeRequest_2_1)
<{iTasks._Framework.WebService._c;316;23_624}> !_x_0 request_1 env_2 rstate_3 mbW_4 response_5 connState_6 = select _x_0 (Data.Maybe.Nothing -> let keepalive_2_0 = iTasks._Framework.WebService.isKeepAlive_29 request_1 in if keepalive_2_0 (let _x_3_0 = System.Time.time (iTasks._Framework.IWorld.get_world_13 env_2) in _Tuple5 (Data.Error.Ok (iTasks._Framework.WebService.NTIdle (Internet.HTTP.get_client_name_18 (iTasks._Framework.WebService.get_request_0 rstate_3)) (_predefined.tupsels2v0 _x_3_0))) mbW_4 (_predefined._Cons (iTasks._Framework.WebService.encodeResponse_30 True (<{iTasks._Framework.WebService._if;314;35_621}> keepalive_2_0 response_5)) _predefined._Nil) False (iTasks._Framework.IWorld.set_world_13 env_2 (_predefined.tupsels2v1 _x_3_0))) (_Tuple5 (Data.Error.Ok connState_6) mbW_4 (_predefined._Cons (iTasks._Framework.WebService.encodeResponse_30 True (<{iTasks._Framework.WebService._if;314;35_622}> keepalive_2_0 response_5)) _predefined._Nil) True env_2)) (Data.Maybe.Just localState_1_0 -> _Tuple5 (Data.Error.Ok (iTasks._Framework.WebService.NTProcessingRequest request_1 localState_1_0)) mbW_4 (_predefined._Cons (iTasks._Framework.WebService.encodeResponse_30 False (<{iTasks._Framework.WebService._if;314;35_623}> (iTasks._Framework.WebService.isKeepAlive_29 request_1) response_5)) _predefined._Nil) False env_2) 
<{iTasks._Framework.WebService._if;314;35_623}> !_x_0 !response_1 = select _x_0 (True -> Internet.HTTP.set_rsp_headers_21 response_1 (_predefined._Cons (_Tuple2 "Connection" "Keep-Alive") (Internet.HTTP.get_rsp_headers_21 response_1))) (_ -> response_1)
<{iTasks._Framework.WebService._if;314;35_622}> !keepalive_0 !response_1 = select keepalive_0 (True -> Internet.HTTP.set_rsp_headers_21 response_1 (_predefined._Cons (_Tuple2 "Connection" "Keep-Alive") (Internet.HTTP.get_rsp_headers_21 response_1))) (_ -> response_1)
<{iTasks._Framework.WebService._if;314;35_621}> !keepalive_0 !response_1 = select keepalive_0 (True -> Internet.HTTP.set_rsp_headers_21 response_1 (_predefined._Cons (_Tuple2 "Connection" "Keep-Alive") (Internet.HTTP.get_rsp_headers_21 response_1))) (_ -> response_1)
<{iTasks._Framework.WebService._if;308;35_620}> !completeRequest_0 !rstate_1 = select completeRequest_0 (True -> iTasks._Framework.HttpUtil.http_parseArguments (iTasks._Framework.WebService.get_request_0 rstate_1)) (_ -> iTasks._Framework.WebService.get_request_0 rstate_1)
<{iTasks._Framework.WebService._c;283;20_619}> !connState_0 port_1 data_2 = select connState_0 (iTasks._Framework.WebService.NTIdle client_name_1_0 _x_1_1 -> let _x_2_0 = iTasks._Framework.HttpUtil.http_addRequestData (Internet.HTTP.set_client_name_18 (Internet.HTTP.set_server_port_17 Internet.HTTP.newHTTPRequest port_1) client_name_1_0) False False False data_2 in iTasks._Framework.WebService._HttpReqState (_predefined.tupsels5v0 _x_2_0) (_predefined.tupsels5v1 _x_2_0) (_predefined.tupsels5v2 _x_2_0) (_predefined.tupsels5v3 _x_2_0) (_predefined.tupsels5v4 _x_2_0)) (iTasks._Framework.WebService.NTReadingRequest _x_1_0 -> select _x_1_0 (iTasks._Framework.WebService._HttpReqState request_2_0 method_done_2_1 headers_done_2_2 data_done_2_3 error_2_4 -> let _x_3_0 = iTasks._Framework.HttpUtil.http_addRequestData request_2_0 method_done_2_1 headers_done_2_2 data_done_2_3 (StdString.toString_9 data_2) in iTasks._Framework.WebService._HttpReqState (_predefined.tupsels5v0 _x_3_0) (_predefined.tupsels5v1 _x_3_0) (_predefined.tupsels5v2 _x_3_0) (_predefined.tupsels5v3 _x_3_0) (_predefined.tupsels5v4 _x_3_0)) ) (_ -> iTasks._Framework.WebService._HttpReqState Internet.HTTP.newHTTPRequest False False False True)
<{iTasks._Framework.WebService._c;271;11_618}> !_x_0 request_1 r_2 mbData_3 localState_4 env_5 connState_6 = select _x_0 (Data.Maybe.Just _x_1_0 -> select _x_1_0 (_Tuple5 _x_2_0 _x_2_1 _x_2_2 handler_2_3 _x_2_4 -> let _x_3_0 = handler_2_3 request_1 r_2 mbData_3 localState_4 env_5, done_3_1 = _predefined.tupsels5v1 _x_3_0 in if (<{iTasks._Framework.WebService._c;271;11_618_select0}> _x_3_0 done_3_1 _x_2_0 _x_2_1 _x_2_2 handler_2_3 _x_2_4 _x_1_0 _x_0 request_1 r_2 mbData_3 localState_4 env_5 connState_6) (let env_4_0 = _predefined.tupsels5v4 _x_3_0, _x_4_1 = System.Time.time (iTasks._Framework.IWorld.get_world_13 env_4_0) in _Tuple5 (Data.Error.Ok (iTasks._Framework.WebService.NTIdle (Internet.HTTP.get_client_name_18 request_1) (_predefined.tupsels2v0 _x_4_1))) (_predefined.tupsels5v3 _x_3_0) (_predefined.tupsels5v0 _x_3_0) False (iTasks._Framework.IWorld.set_world_13 env_4_0 (_predefined.tupsels2v1 _x_4_1))) (let env_4_0 = _predefined.tupsels5v4 _x_3_0 in _Tuple5 (Data.Error.Ok (iTasks._Framework.WebService.NTProcessingRequest request_1 (_predefined.tupsels5v2 _x_3_0))) (_predefined.tupsels5v3 _x_3_0) (_predefined.tupsels5v0 _x_3_0) done_3_1 (iTasks._Framework.IWorld.set_world_13 env_4_0 (iTasks._Framework.IWorld.get_world_13 env_4_0)))) ) (Data.Maybe.Nothing -> _Tuple5 (Data.Error.Ok connState_6) Data.Maybe.Nothing (_predefined._Cons "HTTP/1.1 400 Bad Request\r\n\r\n" _predefined._Nil) True env_5) 
<{iTasks._Framework.WebService._c;271;11_618_select0}> _x_3_0 done_3_1 _x_2_0 _x_2_1 _x_2_2 handler_2_3 _x_2_4 _x_1_0 !_x_0 request_1 r_2 mbData_3 localState_4 env_5 connState_6 = if done_3_1 (iTasks._Framework.WebService.isKeepAlive_29 request_1) False
iTasks._Framework.WebService.onDisconnect_27 requestProcessHandlers_0 !connState_1 r_2 env_3 = select connState_1 (iTasks._Framework.WebService.NTProcessingRequest request_1_0 localState_1_1 -> <{iTasks._Framework.WebService._c;342;11_626}> (iTasks._Framework.WebService.selectHandler_28 request_1_0 requestProcessHandlers_0) connState_1 env_3 request_1_0 r_2 localState_1_1) (_ -> _Tuple3 (Data.Error.Ok connState_1) Data.Maybe.Nothing env_3)
<{iTasks._Framework.WebService._c;342;11_626}> !_x_0 connState_1 env_2 request_3 r_4 localState_5 = select _x_0 (Data.Maybe.Nothing -> _Tuple3 (Data.Error.Ok connState_1) Data.Maybe.Nothing env_2) (Data.Maybe.Just _x_1_0 -> select _x_1_0 (_Tuple5 _x_2_0 _x_2_1 _x_2_2 _x_2_3 connLostHandler_2_4 -> let _x_3_0 = connLostHandler_2_4 request_3 r_4 localState_5 env_2 in _Tuple3 (Data.Error.Ok connState_1) (_predefined.tupsels2v0 _x_3_0) (_predefined.tupsels2v1 _x_3_0)) ) 
iTasks._Framework.WebService.httpServer !_vTC_0 !_vTC_1 !port_2 !keepAliveTime_3 !requestProcessHandlers_4 sds_5 = iTasks._Framework.Task.wrapIWorldConnectionTask (_SystemDynamic.TypeCons (_SystemDynamic._TypeCodeConstructor <{iTasks._Framework.WebService.TD;NetTaskState}>)) _vTC_0 _vTC_1 (iTasks._Framework.Task._ConnectionHandlersIWorld iTasks._Framework.WebService.onConnect_25 (iTasks._Framework.WebService.whileConnected_26 keepAliveTime_3 port_2 requestProcessHandlers_4) (iTasks._Framework.WebService.onDisconnect_27 requestProcessHandlers_4)) sds_5
iTasks._Framework.WebService.isTaskUrl_2 !_x_0 = select _x_0 ("" -> True) (_ -> <{iTasks._Framework.WebService._c;59;23_627}> (StdList.dropWhile (<{StdString.==_2}> "") (Text.split_12 "/" _x_0)))
<{iTasks._Framework.WebService._c;59;23_627}> !_x_0 = select _x_0 (_predefined._Cons _x_1_0 _x_1_1 -> select _x_1_0 ("gui-stream" -> select _x_1_1 (_predefined._Nil -> True) ) (_ -> select _x_1_1 (_predefined._Cons _x_2_0 _x_2_1 -> select _x_2_1 (_predefined._Nil -> <{StdInt.<_17}> 0 (StdInt.toInt_23 _x_1_0)) (_predefined._Cons _x_3_0 _x_3_1 -> select _x_3_1 (_predefined._Nil -> <{StdInt.<_17}> 0 (StdInt.toInt_23 _x_1_0)) ) ) )) (_ -> False)
iTasks._Framework.WebService.matchFun_11 !matchUrl_0 !reqUrl_1 = if (Text.startsWith_13 matchUrl_0 reqUrl_1) (iTasks._Framework.WebService.isTaskUrl_2 (<{StdString.%_10}> reqUrl_1 (_Tuple2 (_SystemArray.size_20 matchUrl_0) (_SystemArray.size_20 reqUrl_1)))) False
iTasks._Framework.WebService.anon_41 k_0 x_1 xs_2 = _predefined._Cons (_Tuple2 k_0 x_1) xs_2
iTasks._Framework.WebService.jsonResponse_18 !_vtoString_0 json_1 = Internet.HTTP.set_rsp_data_22 (Internet.HTTP.set_rsp_headers_21 Internet.HTTP.okResponse (_predefined._Cons (_Tuple2 "Content-Type" "text/json") (_predefined._Cons (_Tuple2 "Access-Control-Allow-Origin" "*") _predefined._Nil))) (StdOverloaded.get_toString_25 _vtoString_0 json_1)
iTasks._Framework.WebService.createDocumentsFromUploads_22 !_x_0 iworld_1 = select _x_0 (_predefined._Nil -> _Tuple2 _predefined._Nil iworld_1) (_predefined._Cons _x_1_0 us_1_1 -> select _x_1_0 (_Tuple2 n_2_0 u_2_1 -> let _x_3_0 = iTasks._Framework.TaskStore.createDocument (Internet.HTTP.get_upl_filename_28 u_2_1) (Internet.HTTP.get_upl_mimetype_29 u_2_1) (Internet.HTTP.get_upl_content_30 u_2_1) iworld_1, mbD_3_1 = _predefined.tupsels2v0 _x_3_0 in if (Data.Error.isError mbD_3_1) (iTasks._Framework.WebService.createDocumentsFromUploads_22 us_1_1 (_predefined.tupsels2v1 _x_3_0)) (let _x_4_0 = iTasks._Framework.WebService.createDocumentsFromUploads_22 us_1_1 (_predefined.tupsels2v1 _x_3_0) in _Tuple2 (_predefined._Cons (Data.Error.fromOk mbD_3_1) (_predefined.tupsels2v0 _x_4_0)) (_predefined.tupsels2v1 _x_4_0))) ) 
iTasks._Framework.WebService.webSocketHandShake_14 key_0 = Text.Encodings.Base64.base64Encode (_predefined.tupsels1v0 (Crypto.Hash.SHA1.sha1StringDigest (<{StdString.+++_11}> key_0 "258EAFA5-E914-47DA-95CA-C5AB0DC85B11")))
iTasks._Framework.WebService.theme_4 !_x_0 = select _x_0 (_predefined._Cons _x_1_0 _x_1_1 -> select _x_1_0 (iTasks._Framework.Engine.Theme name_2_0 -> name_2_0) ) (_ -> "gray")
<{iTasks._Framework.WebService.c;229;89_9}> !g_l_0 = <{iTasks._Framework.WebService.g_c1;229;97_628}> g_l_0
<{iTasks._Framework.WebService.g_c1;229;97_628}> !g_l_0 = select g_l_0 (_predefined._Cons g_h_1_0 g_t_1_1 -> _predefined._Cons (Text.HTML.LinkTag (_predefined._Cons (Text.HTML.RelAttr "stylesheet") (_predefined._Cons (Text.HTML.HrefAttr g_h_1_0) (_predefined._Cons (Text.HTML.TypeAttr "text/css") _predefined._Nil))) _predefined._Nil) (<{iTasks._Framework.WebService.c;229;89_9}> g_t_1_1)) (_ -> _predefined._Nil)
<{iTasks._Framework.WebService.c;230;76_10}> !g_l_0 = <{iTasks._Framework.WebService.g_c1;230;84_629}> g_l_0
<{iTasks._Framework.WebService.g_c1;230;84_629}> !g_l_0 = select g_l_0 (_predefined._Cons g_h_1_0 g_t_1_1 -> _predefined._Cons (Text.HTML.ScriptTag (_predefined._Cons (Text.HTML.SrcAttr g_h_1_0) (_predefined._Cons (Text.HTML.TypeAttr "text/javascript") _predefined._Nil)) _predefined._Nil) (<{iTasks._Framework.WebService.c;230;76_10}> g_t_1_1)) (_ -> _predefined._Nil)
iTasks._Framework.WebService.itwcStartResponse_21 !_vtoString_0 path_1 instanceNo_2 instanceKey_3 theme_4 appName_5 customCSS_6 = Internet.HTTP.set_rsp_data_22 Internet.HTTP.okResponse (Text.HTML.toString_7 (Text.HTML.HtmlTag _predefined._Nil (_predefined._Cons (Text.HTML.HeadTag _predefined._Nil (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.CharsetAttr "UTF-8") _predefined._Nil) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "viewport") (_predefined._Cons (Text.HTML.ContentAttr "width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "mobile-web-app-capable") (_predefined._Cons (Text.HTML.ContentAttr "yes") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "apple-mobile-web-app-capable") (_predefined._Cons (Text.HTML.ContentAttr "yes") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.TitleTag _predefined._Nil (_predefined._Cons (Text.HTML.Text appName_5) _predefined._Nil)) (_predefined._Cons (Text.HTML.ScriptTag (_predefined._Cons (Text.HTML.TypeAttr "text/javascript") _predefined._Nil) (_predefined._Cons (Text.HTML.Html "window.itwc = {};") (_predefined._Cons (Text.HTML.Html (<{StdString.+++_11}> "itwc.START_INSTANCE_NO = " (<{StdString.+++_11}> (StdOverloaded.get_toString_25 _vtoString_0 instanceNo_2) ";"))) (_predefined._Cons (Text.HTML.Html (<{StdString.+++_11}> "itwc.START_INSTANCE_KEY = \"" (<{StdString.+++_11}> instanceKey_3 "\";"))) _predefined._Nil)))) (<{StdList.++}> (<{iTasks._Framework.WebService.c;229;89_9}> (_predefined._Cons (<{StdString.+++_11}> "itwc-theme-" (<{StdString.+++_11}> theme_4 "/itwc-theme.css")) (_predefined._Cons "css/icons.css" (_predefined._Cons "css/app.css" (<{iTasks._Framework.WebService._if;236;15_630}> customCSS_6 appName_5))))) (<{iTasks._Framework.WebService.c;230;76_10}> (_predefined._Cons "/app/taskeval/utils.js" (_predefined._Cons "/app/taskeval/itask.js" (_predefined._Cons "/app/taskeval/builtin.js" (_predefined._Cons "/app/taskeval/dynamic.js" (_predefined._Cons "/app/taskeval/sapl-rt.js" (_predefined._Cons "/app/taskeval/sapl-support.js" (_predefined._Cons "/app/taskeval/db.js" (_predefined._Cons "/app/taskeval/debug.js" (_predefined._Cons "/app/taskeval/interface.js" (_predefined._Cons "/itwc.js" _predefined._Nil))))))))))))))))))) (_predefined._Cons (Text.HTML.BodyTag _predefined._Nil _predefined._Nil) _predefined._Nil))))
<{iTasks._Framework.WebService._if;236;15_630}> !customCSS_0 appName_1 = select customCSS_0 (True -> _predefined._Cons (<{StdString.+++_11}> appName_1 ".css") _predefined._Nil) (_ -> _predefined._Nil)
iTasks._Framework.WebService.anon_37 k_0 x_1 xs_2 = _predefined._Cons (_Tuple2 k_0 x_1) xs_2
<{iTasks._Framework.WebService.c;199;30_6}> !_vEq_0 instances_1 !g_l_2 = <{iTasks._Framework.WebService.g_c1;199;57_632}> g_l_2 _vEq_0 instances_1
<{iTasks._Framework.WebService.g_c1;199;57_632}> !g_l_0 _vEq_1 instances_2 = select g_l_0 (_predefined._Cons g_h_1_0 g_t_1_1 -> <{iTasks._Framework.WebService.g_c2;199;57_631}> g_h_1_0 _vEq_1 instances_2 g_t_1_1) (_ -> _predefined._Nil)
<{iTasks._Framework.WebService.g_c2;199;57_631}> !g_h_0 !_vEq_1 !instances_2 g_t_3 = select g_h_0 (_Tuple2 instanceNo_1_0 updates_1_1 -> select (StdList.isMember _vEq_1 instanceNo_1_0 instances_2) (True -> _predefined._Cons g_h_0 (<{iTasks._Framework.WebService.c;199;30_6}> _vEq_1 instances_2 g_t_3)) ) (_ -> <{iTasks._Framework.WebService.c;199;30_6}> _vEq_1 instances_2 g_t_3)
<{iTasks._Framework.WebService.c;200;30_7}> !_vEq_0 instances_1 !g_l_2 = <{iTasks._Framework.WebService.g_c1;200;51_634}> g_l_2 _vEq_0 instances_1
<{iTasks._Framework.WebService.g_c1;200;51_634}> !g_l_0 _vEq_1 instances_2 = select g_l_0 (_predefined._Cons g_h_1_0 g_t_1_1 -> <{iTasks._Framework.WebService.g_c2;200;51_633}> g_h_1_0 _vEq_1 instances_2 g_t_1_1) (_ -> _predefined._Nil)
<{iTasks._Framework.WebService.g_c2;200;51_633}> !g_h_0 !_vEq_1 !instances_2 g_t_3 = select g_h_0 (_Tuple2 instanceNo_1_0 _x_1_1 -> select (StdBool.not (StdList.isMember _vEq_1 instanceNo_1_0 instances_2)) (True -> _predefined._Cons g_h_0 (<{iTasks._Framework.WebService.c;200;30_7}> _vEq_1 instances_2 g_t_3)) ) (_ -> <{iTasks._Framework.WebService.c;200;30_7}> _vEq_1 instances_2 g_t_3)
<{iTasks._Framework.WebService.c;199;30_594}> instances_0 !g_l_1 = <{iTasks._Framework.WebService.g_c1;199;57_636}> g_l_1 instances_0
<{iTasks._Framework.WebService.g_c1;199;57_636}> !g_l_0 instances_1 = select g_l_0 (_predefined._Cons g_h_1_0 g_t_1_1 -> <{iTasks._Framework.WebService.g_c2;199;57_635}> g_h_1_0 instances_1 g_t_1_1) (_ -> _predefined._Nil)
<{iTasks._Framework.WebService.g_c2;199;57_635}> !g_h_0 !instances_1 g_t_2 = select g_h_0 (_Tuple2 instanceNo_1_0 updates_1_1 -> select (StdList.isMember_51 instanceNo_1_0 instances_1) (True -> _predefined._Cons g_h_0 (<{iTasks._Framework.WebService.c;199;30_594}> instances_1 g_t_2)) ) (_ -> <{iTasks._Framework.WebService.c;199;30_594}> instances_1 g_t_2)
<{iTasks._Framework.WebService.c;200;30_595}> instances_0 !g_l_1 = <{iTasks._Framework.WebService.g_c1;200;51_638}> g_l_1 instances_0
<{iTasks._Framework.WebService.g_c1;200;51_638}> !g_l_0 instances_1 = select g_l_0 (_predefined._Cons g_h_1_0 g_t_1_1 -> <{iTasks._Framework.WebService.g_c2;200;51_637}> g_h_1_0 instances_1 g_t_1_1) (_ -> _predefined._Nil)
<{iTasks._Framework.WebService.g_c2;200;51_637}> !g_h_0 !instances_1 g_t_2 = select g_h_0 (_Tuple2 instanceNo_1_0 _x_1_1 -> select (StdBool.not (StdList.isMember_51 instanceNo_1_0 instances_1)) (True -> _predefined._Cons g_h_0 (<{iTasks._Framework.WebService.c;200;30_595}> instances_1 g_t_2)) ) (_ -> <{iTasks._Framework.WebService.c;200;30_595}> instances_1 g_t_2)
iTasks._Framework.WebService.popOutput_17 !instances_0 !taskOutput_1 = let taskOutput_1_0 = Data.Map.foldrWithKey iTasks._Framework.WebService.anon_37 _predefined._Nil taskOutput_1 in <{_Tuple2!1}> (<{iTasks._Framework.WebService.c;199;30_594}> instances_0 taskOutput_1_0) (Data.Map.fromList (<{StdOverloaded.==;}> <{StdInt.==_16}>) (<{StdOverloaded.<;}> <{StdInt.<_17}>) (<{iTasks._Framework.WebService.c;200;30_595}> instances_0 taskOutput_1_0))
iTasks._Framework.WebService.format_8 !_vtoString_0 !_x_1 = select _x_1 (_Tuple2 instanceNo_1_0 updates_1_1 -> <{StdString.+++_11}> "data: {\"instance\":" (<{StdString.+++_11}> (StdOverloaded.get_toString_25 _vtoString_0 instanceNo_1_0) (<{StdString.+++_11}> ",\"updates\":" (<{StdString.+++_11}> (Text.JSON.toString_7 (iTasks._Framework.UIDiff.encodeUIUpdates updates_1_1)) "}\n\n")))) 
iTasks._Framework.WebService.formatMessageEvents_20 !_vtoString_0 !messages_1 = Text.concat_0 (StdList.map (iTasks._Framework.WebService.format_8 _vtoString_0) messages_1)
iTasks._Framework.WebService.eventsResponse_19 !_vtoString_0 messages_1 = Internet.HTTP.set_rsp_data_22 (Internet.HTTP.set_rsp_headers_21 Internet.HTTP.okResponse (_predefined._Cons (_Tuple2 "Content-Type" "text/event-stream") (_predefined._Cons (_Tuple2 "Cache-Control" "no-cache") _predefined._Nil))) (iTasks._Framework.WebService.formatMessageEvents_20 _vtoString_0 messages_1)
iTasks._Framework.WebService.anon_3 !i_0 = <{StdInt.<_17}> 0 i_0
iTasks._Framework.WebService.JSONEncode_s_255 !_vJSONEncode_s_0 !x1_1 !x2_2 = Text.JSON.JSONEncode__List_16 (iTasks._Framework.WebService.get_JSONEncode_s_5 _vJSONEncode_s_0) x1_1 x2_2
iTasks._Framework.WebService.JSONEncode_s_272 !_vJSONEncode_s_0 !x1_1 !x2_2 = Text.JSON.JSONEncode_Maybe_23 (iTasks._Framework.WebService.get_JSONEncode_s_5 _vJSONEncode_s_0) x1_1 x2_2
iTasks._Framework.WebService.JSONDecode_s_275 !_vJSONDecode_s_0 !_vJSONDecode_s_1 !x1_2 !x2_3 = Text.JSON.JSONDecode__Tuple2_41 (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_0) (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_1) x1_2 x2_3
iTasks._Framework.WebService.JSONDecode_s_278 !_vJSONDecode_s_0 !_vJSONDecode_s_1 !_vJSONDecode_s_2 !x1_3 !x2_4 = Text.JSON.JSONDecode__Tuple3_42 (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_0) (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_1) (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_2) x1_3 x2_4
iTasks._Framework.WebService.JSONDecode_s_596 !_vJSONDecode_s_0 !_vJSONDecode_s_1 !x1_2 !x2_3 = Text.JSON.JSONDecode__Tuple3_42 Text.JSON.JSONDecode__String_35 (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_0) (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_1) x1_2 x2_3
iTasks._Framework.WebService.JSONDecode_s_597 !_vJSONDecode_s_0 !x1_1 !x2_2 = Text.JSON.JSONDecode__Tuple2_41 Text.JSON.JSONDecode__String_35 (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_0) x1_1 x2_2
iTasks._Framework.WebService.jsonResponse_598 json_0 = Internet.HTTP.set_rsp_data_22 (Internet.HTTP.set_rsp_headers_21 Internet.HTTP.okResponse (_predefined._Cons (_Tuple2 "Content-Type" "text/json") (_predefined._Cons (_Tuple2 "Access-Control-Allow-Origin" "*") _predefined._Nil))) (Text.JSON.toString_7 json_0)
iTasks._Framework.WebService.JSONEncode_s_599 !x1_0 !x2_1 = Text.JSON.JSONEncode__List_16 iTasks.API.Core.Types.JSONEncode_Document_149 x1_0 x2_1
iTasks._Framework.WebService.itwcStartResponse_600 path_0 instanceNo_1 instanceKey_2 theme_3 appName_4 customCSS_5 = Internet.HTTP.set_rsp_data_22 Internet.HTTP.okResponse (Text.HTML.toString_7 (Text.HTML.HtmlTag _predefined._Nil (_predefined._Cons (Text.HTML.HeadTag _predefined._Nil (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.CharsetAttr "UTF-8") _predefined._Nil) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "viewport") (_predefined._Cons (Text.HTML.ContentAttr "width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "mobile-web-app-capable") (_predefined._Cons (Text.HTML.ContentAttr "yes") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "apple-mobile-web-app-capable") (_predefined._Cons (Text.HTML.ContentAttr "yes") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.TitleTag _predefined._Nil (_predefined._Cons (Text.HTML.Text appName_4) _predefined._Nil)) (_predefined._Cons (Text.HTML.ScriptTag (_predefined._Cons (Text.HTML.TypeAttr "text/javascript") _predefined._Nil) (_predefined._Cons (Text.HTML.Html "window.itwc = {};") (_predefined._Cons (Text.HTML.Html (<{StdString.+++_11}> "itwc.START_INSTANCE_NO = " (<{StdString.+++_11}> (StdString.toString_5 instanceNo_1) ";"))) (_predefined._Cons (Text.HTML.Html (<{StdString.+++_11}> "itwc.START_INSTANCE_KEY = \"" (<{StdString.+++_11}> instanceKey_2 "\";"))) _predefined._Nil)))) (<{StdList.++}> (<{iTasks._Framework.WebService.c;229;89_9}> (_predefined._Cons (<{StdString.+++_11}> "itwc-theme-" (<{StdString.+++_11}> theme_3 "/itwc-theme.css")) (_predefined._Cons "css/icons.css" (_predefined._Cons "css/app.css" (<{iTasks._Framework.WebService._if;236;15_639}> customCSS_5 appName_4))))) (<{iTasks._Framework.WebService.c;230;76_10}> (_predefined._Cons "/app/taskeval/utils.js" (_predefined._Cons "/app/taskeval/itask.js" (_predefined._Cons "/app/taskeval/builtin.js" (_predefined._Cons "/app/taskeval/dynamic.js" (_predefined._Cons "/app/taskeval/sapl-rt.js" (_predefined._Cons "/app/taskeval/sapl-support.js" (_predefined._Cons "/app/taskeval/db.js" (_predefined._Cons "/app/taskeval/debug.js" (_predefined._Cons "/app/taskeval/interface.js" (_predefined._Cons "/itwc.js" _predefined._Nil))))))))))))))))))) (_predefined._Cons (Text.HTML.BodyTag _predefined._Nil _predefined._Nil) _predefined._Nil))))
<{iTasks._Framework.WebService._if;236;15_639}> !customCSS_0 appName_1 = select customCSS_0 (True -> _predefined._Cons (<{StdString.+++_11}> appName_1 ".css") _predefined._Nil) (_ -> _predefined._Nil)
iTasks._Framework.WebService.format_603 !_x_0 = select _x_0 (_Tuple2 instanceNo_1_0 updates_1_1 -> <{StdString.+++_11}> "data: {\"instance\":" (<{StdString.+++_11}> (StdString.toString_5 instanceNo_1_0) (<{StdString.+++_11}> ",\"updates\":" (<{StdString.+++_11}> (Text.JSON.toString_7 (iTasks._Framework.UIDiff.encodeUIUpdates updates_1_1)) "}\n\n")))) 
iTasks._Framework.WebService.formatMessageEvents_602 !messages_0 = Text.concat_0 (StdList.map iTasks._Framework.WebService.format_603 messages_0)
iTasks._Framework.WebService.eventsResponse_601 messages_0 = Internet.HTTP.set_rsp_data_22 (Internet.HTTP.set_rsp_headers_21 Internet.HTTP.okResponse (_predefined._Cons (_Tuple2 "Content-Type" "text/event-stream") (_predefined._Cons (_Tuple2 "Cache-Control" "no-cache") _predefined._Nil))) (iTasks._Framework.WebService.formatMessageEvents_602 messages_0)
iTasks._Framework.WebService.JSONEncode_s_605 !x1_0 !x2_1 = Text.JSON.JSONEncode_Maybe_23 Text.JSON.JSONEncode_Int_10 x1_0 x2_1
iTasks._Framework.WebService.itwcStartResponse_604 path_0 instanceNo_1 instanceKey_2 theme_3 appName_4 customCSS_5 = Internet.HTTP.set_rsp_data_22 Internet.HTTP.okResponse (Text.HTML.toString_7 (Text.HTML.HtmlTag _predefined._Nil (_predefined._Cons (Text.HTML.HeadTag _predefined._Nil (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.CharsetAttr "UTF-8") _predefined._Nil) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "viewport") (_predefined._Cons (Text.HTML.ContentAttr "width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "mobile-web-app-capable") (_predefined._Cons (Text.HTML.ContentAttr "yes") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.MetaTag (_predefined._Cons (Text.HTML.NameAttr "apple-mobile-web-app-capable") (_predefined._Cons (Text.HTML.ContentAttr "yes") _predefined._Nil)) _predefined._Nil) (_predefined._Cons (Text.HTML.TitleTag _predefined._Nil (_predefined._Cons (Text.HTML.Text appName_4) _predefined._Nil)) (_predefined._Cons (Text.HTML.ScriptTag (_predefined._Cons (Text.HTML.TypeAttr "text/javascript") _predefined._Nil) (_predefined._Cons (Text.HTML.Html "window.itwc = {};") (_predefined._Cons (Text.HTML.Html (<{StdString.+++_11}> "itwc.START_INSTANCE_NO = " (<{StdString.+++_11}> (StdString.toString_9 instanceNo_1) ";"))) (_predefined._Cons (Text.HTML.Html (<{StdString.+++_11}> "itwc.START_INSTANCE_KEY = \"" (<{StdString.+++_11}> instanceKey_2 "\";"))) _predefined._Nil)))) (<{StdList.++}> (<{iTasks._Framework.WebService.c;229;89_9}> (_predefined._Cons (<{StdString.+++_11}> "itwc-theme-" (<{StdString.+++_11}> theme_3 "/itwc-theme.css")) (_predefined._Cons "css/icons.css" (_predefined._Cons "css/app.css" (<{iTasks._Framework.WebService._if;236;15_640}> customCSS_5 appName_4))))) (<{iTasks._Framework.WebService.c;230;76_10}> (_predefined._Cons "/app/taskeval/utils.js" (_predefined._Cons "/app/taskeval/itask.js" (_predefined._Cons "/app/taskeval/builtin.js" (_predefined._Cons "/app/taskeval/dynamic.js" (_predefined._Cons "/app/taskeval/sapl-rt.js" (_predefined._Cons "/app/taskeval/sapl-support.js" (_predefined._Cons "/app/taskeval/db.js" (_predefined._Cons "/app/taskeval/debug.js" (_predefined._Cons "/app/taskeval/interface.js" (_predefined._Cons "/itwc.js" _predefined._Nil))))))))))))))))))) (_predefined._Cons (Text.HTML.BodyTag _predefined._Nil _predefined._Nil) _predefined._Nil))))
<{iTasks._Framework.WebService._if;236;15_640}> !customCSS_0 appName_1 = select customCSS_0 (True -> _predefined._Cons (<{StdString.+++_11}> appName_1 ".css") _predefined._Nil) (_ -> _predefined._Nil)
iTasks._Framework.WebService.JSONDecode_s_606 !_vJSONDecode_s_0 !x1_1 !x2_2 = Text.JSON.JSONDecode__Tuple3_42 Text.JSON.JSONDecode__String_35 Text.JSON.JSONDecode__String_35 (iTasks._Framework.WebService.get_JSONDecode_s_8 _vJSONDecode_s_0) x1_1 x2_2
iTasks._Framework.WebService.JSONDecode_s_607 !x1_0 !x2_1 = Text.JSON.JSONDecode__Tuple2_41 Text.JSON.JSONDecode__String_35 Text.JSON.JSONDecode__String_35 x1_0 x2_1
iTasks._Framework.WebService.JSONDecode_s_608 !x1_0 !x2_1 = Text.JSON.JSONDecode__Tuple3_42 Text.JSON.JSONDecode__String_35 Text.JSON.JSONDecode__String_35 Text.JSON.JSONDecode_JSONNode_48 x1_0 x2_1
iTasks._Framework.WebService.reqFun_13 !_vArray_0 !_viTask_1 url_2 task_3 defaultFormat_4 !req_5 output_6 !iworld_7 = select iworld_7 (iTasks._Framework.IWorld._IWorld server_1_0 config_1_1 clocks_1_2 current_1_3 random_1_4 sdsNotifyRequests_1_5 memoryShares_1_6 cachedShares_1_7 exposedShares_1_8 jsCompilerState_1_9 refreshQueue_1_10 ioTasks_1_11 ioStates_1_12 world_1_13 resources_1_14 onClient_1_15 shutdown_1_16 -> select server_1_0 (iTasks._Framework.IWorld._ServerInfo serverName_2_0 serverURL_2_1 build_2_2 paths_2_3 customCSS_2_4 -> if (iTasks._Framework.HtmlUtil.hasParam "upload" req_5) (let uploads_3_0 = Data.Map.foldrWithKey iTasks._Framework.WebService.anon_41 _predefined._Nil (Internet.HTTP.get_arg_uploads_15 req_5) in if (<{StdInt.==_16}> (StdList.length_47 uploads_3_0) 0) (_Tuple4 (iTasks._Framework.WebService.jsonResponse_598 (Text.JSON.JSONArray _predefined._Nil)) Data.Maybe.Nothing Data.Maybe.Nothing iworld_7) (let _x_4_0 = iTasks._Framework.WebService.createDocumentsFromUploads_22 uploads_3_0 iworld_7 in _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 (Text.JSON.toJSON (<{iTasks._Framework.WebService.JSONEncode_s;}> iTasks._Framework.WebService.JSONEncode_s_599) (_predefined.tupsels2v0 _x_4_0))) Data.Maybe.Nothing Data.Maybe.Nothing (_predefined.tupsels2v1 _x_4_0))) (if (iTasks._Framework.HtmlUtil.hasParam "download" req_5) (let downloadParam_3_0 = iTasks._Framework.HtmlUtil.paramValue "download" req_5, _x_3_1 = iTasks._Framework.TaskStore.loadDocumentContent downloadParam_3_0 iworld_7, iworld_3_2 = _predefined.tupsels2v1 _x_3_1, _x_3_3 = iTasks._Framework.TaskStore.loadDocumentMeta downloadParam_3_0 iworld_3_2, iworld_3_4 = _predefined.tupsels2v1 _x_3_3 in <{iTasks._Framework.WebService._c;81;15_641}> (_Tuple2 (_predefined.tupsels2v0 _x_3_1) (_predefined.tupsels2v0 _x_3_3)) iworld_3_4 req_5) (if (iTasks._Framework.WebService._f643_643 (<{iTasks._Framework.WebService._c;88;79_642}> (Data.Map.get (<{StdOverloaded.<;}> <{StdString.<_3}>) "Upgrade" (Internet.HTTP.get_req_headers_10 req_5))) req_5) (_Tuple4 (Internet.HTTP.set_rsp_data_22 (Internet.HTTP.set_rsp_headers_21 (Internet.HTTP.newHTTPResponse 101 "Switching Protocols") (_predefined._Cons (_Tuple2 "Upgrade" "websocket") (_predefined._Cons (_Tuple2 "Connection" "Upgrade") (_predefined._Cons (_Tuple2 "Sec-WebSocket-Accept" (iTasks._Framework.WebService.webSocketHandShake_14 (Data.Maybe.fromJust (Data.Map.get (<{StdOverloaded.<;}> <{StdString.<_3}>) "Sec-WebSocket-Key" (Internet.HTTP.get_req_headers_10 req_5))))) (_predefined._Cons (_Tuple2 "Sec-WebSocket-Protocol" "itwc") _predefined._Nil))))) "") (Data.Maybe.Just (iTasks._Framework.Engine.WebSocketConnection _predefined._Nil)) Data.Maybe.Nothing iworld_7) (let urlSpec_3_0 = <{StdString.%_10}> (Internet.HTTP.get_req_path_6 req_5) (_Tuple2 (_SystemArray.get_size_4 _vArray_0 url_2) (_SystemArray.size_20 (Internet.HTTP.get_req_path_6 req_5))) in if (<{StdString.==_2}> urlSpec_3_0 "") (<{iTasks._Framework.WebService._c;96;15_656}> defaultFormat_4 _viTask_1 task_3 req_5 iworld_7 url_2 serverName_2_0 customCSS_2_4) (<{iTasks._Framework.WebService._c;115;15_666}> (StdList.dropWhile (<{StdString.==_2}> "") (Text.split_12 "/" urlSpec_3_0)) output_6 req_5 iworld_7 url_2 serverName_2_0 customCSS_2_4))))) ) 
<{iTasks._Framework.WebService._c;115;15_666}> !_x_0 output_1 req_2 iworld_3 url_4 serverName_5 customCSS_6 = select _x_0 (_predefined._Cons _x_1_0 _x_1_1 -> select _x_1_0 ("gui-stream" -> iTasks._Framework.WebService._f665_665 _x_1_1 output_1 req_2 iworld_3 url_4 _x_1_0 serverName_5 customCSS_6) (_ -> iTasks._Framework.WebService._f664_664 _x_1_1 url_4 _x_1_0 serverName_5 customCSS_6 iworld_3 req_2 output_1)) (_ -> <{iTasks._Framework.WebService._c;115;15_657}> iworld_3)
iTasks._Framework.WebService._f665_665 !_x_0 output_1 req_2 iworld_3 url_4 _x_5 serverName_6 customCSS_7 = select _x_0 (_predefined._Nil -> let instances_2_0 = StdList.filter iTasks._Framework.WebService.anon_3 (StdList.map StdInt.toInt_23 (Text.split_12 "," (iTasks._Framework.HtmlUtil.paramValue "instances" req_2))), _x_2_1 = iTasks._Framework.WebService.popOutput_17 instances_2_0 output_1 in _Tuple4 (iTasks._Framework.WebService.eventsResponse_601 (_predefined.tupsels2v0 _x_2_1)) (Data.Maybe.Just (iTasks._Framework.Engine.EventSourceConnection instances_2_0)) (Data.Maybe.Just (_predefined.tupsels2v1 _x_2_1)) (iTasks._Framework.TaskEval.updateInstanceConnect (Internet.HTTP.get_client_name_18 req_2) instances_2_0 iworld_3)) (_ -> iTasks._Framework.WebService._f664_664 _x_0 url_4 _x_5 serverName_6 customCSS_7 iworld_3 req_2 output_1)
iTasks._Framework.WebService._f664_664 !_x_0 url_1 _x_2 serverName_3 customCSS_4 iworld_5 req_6 output_7 = select _x_0 (_predefined._Cons instanceKey_1_0 _x_1_1 -> select _x_1_1 (_predefined._Nil -> _Tuple4 (iTasks._Framework.WebService.itwcStartResponse_604 url_1 _x_2 instanceKey_1_0 (iTasks._Framework.WebService.theme_4 _predefined._Nil) serverName_3 customCSS_4) Data.Maybe.Nothing Data.Maybe.Nothing iworld_5) (_predefined._Cons _x_2_0 _x_2_1 -> select _x_2_0 ("gui" -> iTasks._Framework.WebService._f663_663 _x_2_1 req_6 iworld_5 _x_2 _x_2_0 output_7) (_ -> iTasks._Framework.WebService._f658_658 _x_2_0 _x_2_1 _x_2 output_7 req_6 iworld_5)) (_ -> <{iTasks._Framework.WebService._c;115;15_657}> iworld_5)) (_ -> <{iTasks._Framework.WebService._c;115;15_657}> iworld_5)
iTasks._Framework.WebService._f663_663 !_x_0 req_1 iworld_2 _x_3 _x_4 output_5 = select _x_0 (_predefined._Nil -> let instanceNo_2_0 = StdInt.toInt_23 _x_3, editEventParam_2_1 = iTasks._Framework.HtmlUtil.paramValue "editEvent" req_1, event_2_2 = <{iTasks._Framework.WebService._c;171;21_662}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> iTasks._Framework.WebService.JSONDecode_s_608) (Text.JSON.fromString_8 editEventParam_2_1)) eventNo_2_8 actionEventParam_2_11 focusEventParam_2_10 resetEventParam_2_9, iworld_2_3 = iTasks._Framework.TaskEval.updateInstanceLastIO (_predefined._Cons instanceNo_2_0 _predefined._Nil) iworld_2, _x_2_4 = iTasks._Framework.TaskEval.evalTaskInstance instanceNo_2_0 event_2_2 iworld_2_3, _x_2_5 = <{iTasks._Framework.WebService._c;128;40_659}> (_predefined.tupsels2v0 _x_2_4) iworld_2_6 instanceNo_2_0, iworld_2_6 = _predefined.tupsels2v1 _x_2_4, eventNoParam_2_7 = iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1, eventNo_2_8 = StdInt.toInt_23 eventNoParam_2_7, resetEventParam_2_9 = iTasks._Framework.HtmlUtil.paramValue "resetEvent" req_1, focusEventParam_2_10 = iTasks._Framework.HtmlUtil.paramValue "focusEvent" req_1, actionEventParam_2_11 = iTasks._Framework.HtmlUtil.paramValue "actionEvent" req_1 in _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 (_predefined.tupsels2v0 _x_2_5)) Data.Maybe.Nothing Data.Maybe.Nothing (_predefined.tupsels2v1 _x_2_5)) (_ -> iTasks._Framework.WebService._f658_658 _x_4 _x_0 _x_3 output_5 req_1 iworld_2)
<{iTasks._Framework.WebService._c;171;21_662}> !_x_0 eventNo_1 actionEventParam_2 focusEventParam_3 resetEventParam_4 = select _x_0 (Data.Maybe.Just _x_1_0 -> select _x_1_0 (_Tuple3 task_2_0 name_2_1 value_2_2 -> iTasks._Framework.Task.EditEvent eventNo_1 (iTasks.API.Core.Types.fromString_124 task_2_0) name_2_1 value_2_2) ) (_ -> <{iTasks._Framework.WebService._c;173;23_661}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> iTasks._Framework.WebService.JSONDecode_s_607) (Text.JSON.fromString_8 actionEventParam_2)) eventNo_1 focusEventParam_3 resetEventParam_4)
<{iTasks._Framework.WebService._c;173;23_661}> !_x_0 eventNo_1 focusEventParam_2 resetEventParam_3 = select _x_0 (Data.Maybe.Just _x_1_0 -> select _x_1_0 (_Tuple2 task_2_0 action_2_1 -> iTasks._Framework.Task.ActionEvent eventNo_1 (iTasks.API.Core.Types.fromString_124 task_2_0) action_2_1) ) (_ -> <{iTasks._Framework.WebService._c;175;27_660}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> Text.JSON.JSONDecode__String_35) (Text.JSON.fromString_8 focusEventParam_2)) eventNo_1 resetEventParam_3)
<{iTasks._Framework.WebService._c;175;27_660}> !_x_0 eventNo_1 resetEventParam_2 = select _x_0 (Data.Maybe.Just task_1_0 -> iTasks._Framework.Task.FocusEvent eventNo_1 (iTasks.API.Core.Types.fromString_124 task_1_0)) (_ -> if (<{StdString.==_2}> resetEventParam_2 "") (iTasks._Framework.Task.RefreshEvent (Data.Maybe.Just eventNo_1)) iTasks._Framework.Task.ResetEvent)
<{iTasks._Framework.WebService._c;128;40_659}> !_x_0 iworld_1 instanceNo_2 = select _x_0 (Data.Error.Error err_1_0 -> _Tuple2 (Text.JSON.JSONObject (_predefined._Cons (_Tuple2 "error" (Text.JSON.JSONString err_1_0)) _predefined._Nil)) iworld_1) (Data.Error.Ok _x_1_0 -> select _x_1_0 (_Tuple3 lastEventNo_2_0 value_2_1 updates_2_2 -> let _x_3_0 = iTasks._Framework.IWorld.getResponseExpiry instanceNo_2 iworld_1 in _Tuple2 (Text.JSON.JSONObject (_predefined._Cons (_Tuple2 "instance" (Text.JSON.JSONInt instanceNo_2)) (_predefined._Cons (_Tuple2 "expiresIn" (Text.JSON.toJSONInField (<{iTasks._Framework.WebService.JSONEncode_s;}> iTasks._Framework.WebService.JSONEncode_s_605) (_predefined.tupsels2v0 _x_3_0))) (_predefined._Cons (_Tuple2 "lastEvent" (Text.JSON.JSONInt lastEventNo_2_0)) (_predefined._Cons (_Tuple2 "updates" (iTasks._Framework.UIDiff.encodeUIUpdates updates_2_2)) _predefined._Nil))))) (_predefined.tupsels2v1 _x_3_0)) ) (_ -> _Tuple2 (Text.JSON.JSONObject (_predefined._Cons (_Tuple2 "success" (Text.JSON.JSONBool False)) (_predefined._Cons (_Tuple2 "error" (Text.JSON.JSONString "Unknown exception")) _predefined._Nil))) iworld_1)
iTasks._Framework.WebService._f658_658 !_x_0 _x_1 _x_2 output_3 req_4 iworld_5 = select _x_0 ("gui-stream" -> select _x_1 (_predefined._Nil -> let instances_3_0 = _predefined._Cons (StdInt.toInt_23 _x_2) _predefined._Nil in _Tuple4 (iTasks._Framework.WebService.eventsResponse_601 (_predefined.tupsels2v0 (iTasks._Framework.WebService.popOutput_17 instances_3_0 output_3))) (Data.Maybe.Just (iTasks._Framework.Engine.EventSourceConnection instances_3_0)) Data.Maybe.Nothing (iTasks._Framework.TaskEval.updateInstanceConnect (Internet.HTTP.get_client_name_18 req_4) instances_3_0 iworld_5)) (_ -> <{iTasks._Framework.WebService._c;115;15_657}> iworld_5)) (_ -> <{iTasks._Framework.WebService._c;115;15_657}> iworld_5)
<{iTasks._Framework.WebService._c;115;15_657}> iworld_0 = _Tuple4 (Internet.HTTP.errorResponse "Requested service format not available for this task") Data.Maybe.Nothing Data.Maybe.Nothing iworld_0
<{iTasks._Framework.WebService._c;96;15_656}> !defaultFormat_0 _viTask_1 task_2 req_3 iworld_4 url_5 serverName_6 customCSS_7 = select defaultFormat_0 (iTasks._Framework.Engine.WebApp opts_1_0 -> <{iTasks._Framework.WebService._c;98;23_645}> (iTasks._Framework.TaskStore.createTaskInstance _viTask_1 (task_2 req_3) iworld_4) url_5 opts_1_0 serverName_6 customCSS_7) (iTasks._Framework.Engine.JSONPlain -> <{iTasks._Framework.WebService._c;104;23_655}> (iTasks._Framework.TaskStore.createTaskInstance _viTask_1 (task_2 req_3) iworld_4) req_3 iworld_4) (_ -> <{iTasks._Framework.WebService._c;96;15_644}> iworld_4)
<{iTasks._Framework.WebService._c;104;23_655}> !_x_0 req_1 iworld_2 = select _x_0 (_Tuple2 _x_1_0 iworld_1_1 -> select _x_1_0 (Data.Error.Error _x_2_0 -> select _x_2_0 (_Tuple2 _x_3_0 err_3_1 -> _Tuple4 (Internet.HTTP.errorResponse err_3_1) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) ) (Data.Error.Ok _x_2_0 -> iTasks._Framework.WebService._f654_654 _x_2_0 req_1 iworld_1_1 iworld_2) ) 
iTasks._Framework.WebService._f654_654 !_x_0 !req_1 !iworld_2 iworld_3 = select _x_0 (_Tuple2 instanceNo_1_0 instanceKey_1_1 -> <{iTasks._Framework.WebService._c;108;31_653}> (iTasks._Framework.TaskEval.evalTaskInstance instanceNo_1_0 (<{iTasks._Framework.WebService._c;171;21_652}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> iTasks._Framework.WebService.JSONDecode_s_608) (Text.JSON.fromString_8 (iTasks._Framework.HtmlUtil.paramValue "editEvent" req_1))) req_1) iworld_2)) (_ -> <{iTasks._Framework.WebService._c;96;15_644}> iworld_3)
<{iTasks._Framework.WebService._c;108;31_653}> !_x_0 = select _x_0 (_Tuple2 _x_1_0 iworld_1_1 -> select _x_1_0 (Data.Error.Error err_2_0 -> _Tuple4 (Internet.HTTP.errorResponse err_2_0) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) (Data.Error.Ok _x_2_0 -> select _x_2_0 (_Tuple3 _x_3_0 _x_3_1 _x_3_2 -> select _x_3_1 (iTasks.API.Core.Types.Value val_4_0 _x_4_1 -> _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 val_4_0) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) (iTasks.API.Core.Types.NoValue -> _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 Text.JSON.JSONNull) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) ) ) ) 
<{iTasks._Framework.WebService._c;171;21_652}> !_x_0 !req_1 = select _x_0 (Data.Maybe.Just _x_1_0 -> iTasks._Framework.WebService._f651_651 _x_1_0 req_1) (_ -> <{iTasks._Framework.WebService._c;171;21_650}> req_1)
iTasks._Framework.WebService._f651_651 !_x_0 !req_1 = select _x_0 (_Tuple3 task_1_0 name_1_1 value_1_2 -> iTasks._Framework.Task.EditEvent (StdInt.toInt_23 (iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1)) (iTasks.API.Core.Types.fromString_124 task_1_0) name_1_1 value_1_2) (_ -> <{iTasks._Framework.WebService._c;171;21_650}> req_1)
<{iTasks._Framework.WebService._c;171;21_650}> !req_0 = <{iTasks._Framework.WebService._c;173;23_649}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> iTasks._Framework.WebService.JSONDecode_s_607) (Text.JSON.fromString_8 (iTasks._Framework.HtmlUtil.paramValue "actionEvent" req_0))) req_0
<{iTasks._Framework.WebService._c;173;23_649}> !_x_0 !req_1 = select _x_0 (Data.Maybe.Just _x_1_0 -> iTasks._Framework.WebService._f648_648 _x_1_0 req_1) (_ -> <{iTasks._Framework.WebService._c;173;23_647}> req_1)
iTasks._Framework.WebService._f648_648 !_x_0 !req_1 = select _x_0 (_Tuple2 task_1_0 action_1_1 -> iTasks._Framework.Task.ActionEvent (StdInt.toInt_23 (iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1)) (iTasks.API.Core.Types.fromString_124 task_1_0) action_1_1) (_ -> <{iTasks._Framework.WebService._c;173;23_647}> req_1)
<{iTasks._Framework.WebService._c;173;23_647}> !req_0 = <{iTasks._Framework.WebService._c;175;27_646}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> Text.JSON.JSONDecode__String_35) (Text.JSON.fromString_8 (iTasks._Framework.HtmlUtil.paramValue "focusEvent" req_0))) req_0
<{iTasks._Framework.WebService._c;175;27_646}> !_x_0 !req_1 = select _x_0 (Data.Maybe.Just task_1_0 -> iTasks._Framework.Task.FocusEvent (StdInt.toInt_23 (iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1)) (iTasks.API.Core.Types.fromString_124 task_1_0)) (_ -> if (<{StdString.==_2}> (iTasks._Framework.HtmlUtil.paramValue "resetEvent" req_1) "") (iTasks._Framework.Task.RefreshEvent (Data.Maybe.Just (StdInt.toInt_23 (iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1)))) iTasks._Framework.Task.ResetEvent)
<{iTasks._Framework.WebService._c;98;23_645}> !_x_0 url_1 opts_2 serverName_3 customCSS_4 = select _x_0 (_Tuple2 _x_1_0 iworld_1_1 -> select _x_1_0 (Data.Error.Error _x_2_0 -> select _x_2_0 (_Tuple2 _x_3_0 err_3_1 -> _Tuple4 (Internet.HTTP.errorResponse err_3_1) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) ) (Data.Error.Ok _x_2_0 -> select _x_2_0 (_Tuple2 instanceNo_3_0 instanceKey_3_1 -> _Tuple4 (iTasks._Framework.WebService.itwcStartResponse_600 url_1 instanceNo_3_0 instanceKey_3_1 (iTasks._Framework.WebService.theme_4 opts_2) serverName_3 customCSS_4) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) ) ) 
<{iTasks._Framework.WebService._c;96;15_644}> iworld_0 = _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 (Text.JSON.JSONString "Unknown service format")) Data.Maybe.Nothing Data.Maybe.Nothing iworld_0
iTasks._Framework.WebService._f643_643 !_x_0 req_1 = select _x_0 (True -> Data.Maybe.isJust (Data.Map.get (<{StdOverloaded.<;}> <{StdString.<_3}>) "Sec-WebSocket-Key" (Internet.HTTP.get_req_headers_10 req_1))) (_ -> False)
<{iTasks._Framework.WebService._c;88;79_642}> !_x_0 = select _x_0 (Data.Maybe.Just _x_1_0 -> select _x_1_0 ("websocket" -> True) ) (_ -> False)
<{iTasks._Framework.WebService._c;81;15_641}> !_x_0 iworld_1 req_2 = select _x_0 (_Tuple2 _x_1_0 _x_1_1 -> select _x_1_0 (Data.Maybe.Just content_2_0 -> select _x_1_1 (Data.Maybe.Just _x_3_0 -> select _x_3_0 (iTasks.API.Core.Types._Document document_4_0 contentUrl_4_1 name_4_2 mime_4_3 size_4_4 -> _Tuple4 (Internet.HTTP.set_rsp_data_22 (Internet.HTTP.set_rsp_headers_21 Internet.HTTP.okResponse (_predefined._Cons (_Tuple2 "Content-Type" mime_4_3) (_predefined._Cons (_Tuple2 "Content-Length" (StdString.toString_5 size_4_4)) (_predefined._Cons (_Tuple2 "Content-Disposition" (<{StdString.+++_11}> "attachment;filename=\"" (<{StdString.+++_11}> name_4_2 "\""))) _predefined._Nil)))) content_2_0) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1) ) ) ) (_ -> _Tuple4 (iTasks._Framework.HtmlUtil.notFoundResponse req_2) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1)
<{iTasks._Framework.WebService.reqFun`_12}> !_vArray_0 !_viTask_1 url_2 task_3 defaultFormat_4 !req_5 output_6 !iworld_7 = select iworld_7 (iTasks._Framework.IWorld._IWorld server_1_0 config_1_1 clocks_1_2 current_1_3 random_1_4 sdsNotifyRequests_1_5 memoryShares_1_6 cachedShares_1_7 exposedShares_1_8 jsCompilerState_1_9 refreshQueue_1_10 ioTasks_1_11 ioStates_1_12 world_1_13 resources_1_14 onClient_1_15 shutdown_1_16 -> iTasks._Framework.WebService.reqFun_13 _vArray_0 _viTask_1 url_2 task_3 defaultFormat_4 req_5 output_6 (iTasks._Framework.IWorld.set_server_0 iworld_7 (iTasks._Framework.IWorld.set_serverURL_18 server_1_0 (<{StdString.+++_11}> "//" (<{StdString.+++_11}> (Internet.HTTP.get_server_name_16 req_5) (<{StdString.+++_11}> ":" (StdString.toString_5 (Internet.HTTP.get_server_port_17 req_5)))))))) 
iTasks._Framework.WebService.anon_40 !f_0 g_1 x_2 = f_0 (g_1 x_2)
iTasks._Framework.WebService.anon_39 !f_0 g_1 x_2 = f_0 (g_1 x_2)
iTasks._Framework.WebService.snd_38 !tuple_0 = _predefined.tupsels2v1 tuple_0
iTasks._Framework.WebService.anon_5 d_0 = _predefined._Cons d_0 _predefined._Nil
iTasks._Framework.WebService.anon_609 !g_0 x_1 = StdList.isEmpty (g_0 x_1)
iTasks._Framework.WebService.anon_610 !g_0 x_1 = StdBool.not (g_0 x_1)
iTasks._Framework.WebService.anon_611 !x_0 = StdList.isEmpty (iTasks._Framework.WebService.snd_38 x_0)
iTasks._Framework.WebService.anon_612 !x_0 = StdBool.not (iTasks._Framework.WebService.anon_611 x_0)
iTasks._Framework.WebService.dataFun_15 req_0 output_1 mbData_2 !_x_3 iworld_4 = select _x_3 (iTasks._Framework.Engine.WebSocketConnection instances_1_0 -> _Tuple5 (Data.Maybe.maybe _predefined._Nil iTasks._Framework.WebService.anon_5 mbData_2) False (iTasks._Framework.Engine.WebSocketConnection instances_1_0) Data.Maybe.Nothing iworld_4) (iTasks._Framework.Engine.EventSourceConnection instances_1_0 -> let _x_2_0 = iTasks._Framework.WebService.popOutput_17 instances_1_0 output_1, messages_2_1 = _predefined.tupsels2v0 _x_2_0, messages_2_2 = StdList.filter iTasks._Framework.WebService.anon_612 messages_2_1, output_2_3 = _predefined.tupsels2v1 _x_2_0 in <{iTasks._Framework.WebService._c;187;11_667}> messages_2_2 instances_1_0 iworld_4 output_2_3) 
<{iTasks._Framework.WebService._c;187;11_667}> !messages_0 instances_1 iworld_2 output_3 = select messages_0 (_predefined._Nil -> _Tuple5 _predefined._Nil False (iTasks._Framework.Engine.EventSourceConnection instances_1) Data.Maybe.Nothing iworld_2) (_ -> _Tuple5 (_predefined._Cons (iTasks._Framework.WebService.formatMessageEvents_602 messages_0) _predefined._Nil) False (iTasks._Framework.Engine.EventSourceConnection instances_1) (Data.Maybe.Just output_3) (iTasks._Framework.TaskEval.updateInstanceLastIO instances_1 iworld_2))
iTasks._Framework.WebService.disconnectFun_16 _x_0 _x_1 !_x_2 iworld_3 = select _x_2 (iTasks._Framework.Engine.EventSourceConnection instances_1_0 -> _Tuple2 Data.Maybe.Nothing (iTasks._Framework.TaskEval.updateInstanceDisconnect instances_1_0 iworld_3)) (_ -> _Tuple2 Data.Maybe.Nothing iworld_3)
iTasks._Framework.WebService.reqFun_614 !_viTask_0 url_1 task_2 defaultFormat_3 !req_4 output_5 !iworld_6 = select iworld_6 (iTasks._Framework.IWorld._IWorld server_1_0 config_1_1 clocks_1_2 current_1_3 random_1_4 sdsNotifyRequests_1_5 memoryShares_1_6 cachedShares_1_7 exposedShares_1_8 jsCompilerState_1_9 refreshQueue_1_10 ioTasks_1_11 ioStates_1_12 world_1_13 resources_1_14 onClient_1_15 shutdown_1_16 -> select server_1_0 (iTasks._Framework.IWorld._ServerInfo serverName_2_0 serverURL_2_1 build_2_2 paths_2_3 customCSS_2_4 -> if (iTasks._Framework.HtmlUtil.hasParam "upload" req_4) (let uploads_3_0 = Data.Map.foldrWithKey iTasks._Framework.WebService.anon_41 _predefined._Nil (Internet.HTTP.get_arg_uploads_15 req_4) in if (<{StdInt.==_16}> (StdList.length_47 uploads_3_0) 0) (_Tuple4 (iTasks._Framework.WebService.jsonResponse_598 (Text.JSON.JSONArray _predefined._Nil)) Data.Maybe.Nothing Data.Maybe.Nothing iworld_6) (let _x_4_0 = iTasks._Framework.WebService.createDocumentsFromUploads_22 uploads_3_0 iworld_6 in _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 (Text.JSON.toJSON (<{iTasks._Framework.WebService.JSONEncode_s;}> iTasks._Framework.WebService.JSONEncode_s_599) (_predefined.tupsels2v0 _x_4_0))) Data.Maybe.Nothing Data.Maybe.Nothing (_predefined.tupsels2v1 _x_4_0))) (if (iTasks._Framework.HtmlUtil.hasParam "download" req_4) (let downloadParam_3_0 = iTasks._Framework.HtmlUtil.paramValue "download" req_4, _x_3_1 = iTasks._Framework.TaskStore.loadDocumentContent downloadParam_3_0 iworld_6, iworld_3_2 = _predefined.tupsels2v1 _x_3_1, _x_3_3 = iTasks._Framework.TaskStore.loadDocumentMeta downloadParam_3_0 iworld_3_2, iworld_3_4 = _predefined.tupsels2v1 _x_3_3 in <{iTasks._Framework.WebService._c;81;15_668}> (_Tuple2 (_predefined.tupsels2v0 _x_3_1) (_predefined.tupsels2v0 _x_3_3)) iworld_3_4 req_4) (if (iTasks._Framework.WebService._f670_670 (<{iTasks._Framework.WebService._c;88;79_669}> (Data.Map.get (<{StdOverloaded.<;}> <{StdString.<_3}>) "Upgrade" (Internet.HTTP.get_req_headers_10 req_4))) req_4) (_Tuple4 (Internet.HTTP.set_rsp_data_22 (Internet.HTTP.set_rsp_headers_21 (Internet.HTTP.newHTTPResponse 101 "Switching Protocols") (_predefined._Cons (_Tuple2 "Upgrade" "websocket") (_predefined._Cons (_Tuple2 "Connection" "Upgrade") (_predefined._Cons (_Tuple2 "Sec-WebSocket-Accept" (iTasks._Framework.WebService.webSocketHandShake_14 (Data.Maybe.fromJust (Data.Map.get (<{StdOverloaded.<;}> <{StdString.<_3}>) "Sec-WebSocket-Key" (Internet.HTTP.get_req_headers_10 req_4))))) (_predefined._Cons (_Tuple2 "Sec-WebSocket-Protocol" "itwc") _predefined._Nil))))) "") (Data.Maybe.Just (iTasks._Framework.Engine.WebSocketConnection _predefined._Nil)) Data.Maybe.Nothing iworld_6) (let urlSpec_3_0 = <{StdString.%_10}> (Internet.HTTP.get_req_path_6 req_4) (_Tuple2 (_SystemArray.size_20 url_1) (_SystemArray.size_20 (Internet.HTTP.get_req_path_6 req_4))) in if (<{StdString.==_2}> urlSpec_3_0 "") (<{iTasks._Framework.WebService._c;96;15_683}> defaultFormat_3 _viTask_0 task_2 req_4 iworld_6 url_1 serverName_2_0 customCSS_2_4) (<{iTasks._Framework.WebService._c;115;15_693}> (StdList.dropWhile (<{StdString.==_2}> "") (Text.split_12 "/" urlSpec_3_0)) output_5 req_4 iworld_6 url_1 serverName_2_0 customCSS_2_4))))) ) 
<{iTasks._Framework.WebService._c;115;15_693}> !_x_0 output_1 req_2 iworld_3 url_4 serverName_5 customCSS_6 = select _x_0 (_predefined._Cons _x_1_0 _x_1_1 -> select _x_1_0 ("gui-stream" -> iTasks._Framework.WebService._f692_692 _x_1_1 output_1 req_2 iworld_3 url_4 _x_1_0 serverName_5 customCSS_6) (_ -> iTasks._Framework.WebService._f691_691 _x_1_1 url_4 _x_1_0 serverName_5 customCSS_6 iworld_3 req_2 output_1)) (_ -> <{iTasks._Framework.WebService._c;115;15_684}> iworld_3)
iTasks._Framework.WebService._f692_692 !_x_0 output_1 req_2 iworld_3 url_4 _x_5 serverName_6 customCSS_7 = select _x_0 (_predefined._Nil -> let instances_2_0 = StdList.filter iTasks._Framework.WebService.anon_3 (StdList.map StdInt.toInt_23 (Text.split_12 "," (iTasks._Framework.HtmlUtil.paramValue "instances" req_2))), _x_2_1 = iTasks._Framework.WebService.popOutput_17 instances_2_0 output_1 in _Tuple4 (iTasks._Framework.WebService.eventsResponse_601 (_predefined.tupsels2v0 _x_2_1)) (Data.Maybe.Just (iTasks._Framework.Engine.EventSourceConnection instances_2_0)) (Data.Maybe.Just (_predefined.tupsels2v1 _x_2_1)) (iTasks._Framework.TaskEval.updateInstanceConnect (Internet.HTTP.get_client_name_18 req_2) instances_2_0 iworld_3)) (_ -> iTasks._Framework.WebService._f691_691 _x_0 url_4 _x_5 serverName_6 customCSS_7 iworld_3 req_2 output_1)
iTasks._Framework.WebService._f691_691 !_x_0 url_1 _x_2 serverName_3 customCSS_4 iworld_5 req_6 output_7 = select _x_0 (_predefined._Cons instanceKey_1_0 _x_1_1 -> select _x_1_1 (_predefined._Nil -> _Tuple4 (iTasks._Framework.WebService.itwcStartResponse_604 url_1 _x_2 instanceKey_1_0 (iTasks._Framework.WebService.theme_4 _predefined._Nil) serverName_3 customCSS_4) Data.Maybe.Nothing Data.Maybe.Nothing iworld_5) (_predefined._Cons _x_2_0 _x_2_1 -> select _x_2_0 ("gui" -> iTasks._Framework.WebService._f690_690 _x_2_1 req_6 iworld_5 _x_2 _x_2_0 output_7) (_ -> iTasks._Framework.WebService._f685_685 _x_2_0 _x_2_1 _x_2 output_7 req_6 iworld_5)) (_ -> <{iTasks._Framework.WebService._c;115;15_684}> iworld_5)) (_ -> <{iTasks._Framework.WebService._c;115;15_684}> iworld_5)
iTasks._Framework.WebService._f690_690 !_x_0 req_1 iworld_2 _x_3 _x_4 output_5 = select _x_0 (_predefined._Nil -> let instanceNo_2_0 = StdInt.toInt_23 _x_3, editEventParam_2_1 = iTasks._Framework.HtmlUtil.paramValue "editEvent" req_1, event_2_2 = <{iTasks._Framework.WebService._c;171;21_689}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> iTasks._Framework.WebService.JSONDecode_s_608) (Text.JSON.fromString_8 editEventParam_2_1)) eventNo_2_8 actionEventParam_2_11 focusEventParam_2_10 resetEventParam_2_9, iworld_2_3 = iTasks._Framework.TaskEval.updateInstanceLastIO (_predefined._Cons instanceNo_2_0 _predefined._Nil) iworld_2, _x_2_4 = iTasks._Framework.TaskEval.evalTaskInstance instanceNo_2_0 event_2_2 iworld_2_3, _x_2_5 = <{iTasks._Framework.WebService._c;128;40_686}> (_predefined.tupsels2v0 _x_2_4) iworld_2_6 instanceNo_2_0, iworld_2_6 = _predefined.tupsels2v1 _x_2_4, eventNoParam_2_7 = iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1, eventNo_2_8 = StdInt.toInt_23 eventNoParam_2_7, resetEventParam_2_9 = iTasks._Framework.HtmlUtil.paramValue "resetEvent" req_1, focusEventParam_2_10 = iTasks._Framework.HtmlUtil.paramValue "focusEvent" req_1, actionEventParam_2_11 = iTasks._Framework.HtmlUtil.paramValue "actionEvent" req_1 in _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 (_predefined.tupsels2v0 _x_2_5)) Data.Maybe.Nothing Data.Maybe.Nothing (_predefined.tupsels2v1 _x_2_5)) (_ -> iTasks._Framework.WebService._f685_685 _x_4 _x_0 _x_3 output_5 req_1 iworld_2)
<{iTasks._Framework.WebService._c;171;21_689}> !_x_0 eventNo_1 actionEventParam_2 focusEventParam_3 resetEventParam_4 = select _x_0 (Data.Maybe.Just _x_1_0 -> select _x_1_0 (_Tuple3 task_2_0 name_2_1 value_2_2 -> iTasks._Framework.Task.EditEvent eventNo_1 (iTasks.API.Core.Types.fromString_124 task_2_0) name_2_1 value_2_2) ) (_ -> <{iTasks._Framework.WebService._c;173;23_688}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> iTasks._Framework.WebService.JSONDecode_s_607) (Text.JSON.fromString_8 actionEventParam_2)) eventNo_1 focusEventParam_3 resetEventParam_4)
<{iTasks._Framework.WebService._c;173;23_688}> !_x_0 eventNo_1 focusEventParam_2 resetEventParam_3 = select _x_0 (Data.Maybe.Just _x_1_0 -> select _x_1_0 (_Tuple2 task_2_0 action_2_1 -> iTasks._Framework.Task.ActionEvent eventNo_1 (iTasks.API.Core.Types.fromString_124 task_2_0) action_2_1) ) (_ -> <{iTasks._Framework.WebService._c;175;27_687}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> Text.JSON.JSONDecode__String_35) (Text.JSON.fromString_8 focusEventParam_2)) eventNo_1 resetEventParam_3)
<{iTasks._Framework.WebService._c;175;27_687}> !_x_0 eventNo_1 resetEventParam_2 = select _x_0 (Data.Maybe.Just task_1_0 -> iTasks._Framework.Task.FocusEvent eventNo_1 (iTasks.API.Core.Types.fromString_124 task_1_0)) (_ -> if (<{StdString.==_2}> resetEventParam_2 "") (iTasks._Framework.Task.RefreshEvent (Data.Maybe.Just eventNo_1)) iTasks._Framework.Task.ResetEvent)
<{iTasks._Framework.WebService._c;128;40_686}> !_x_0 iworld_1 instanceNo_2 = select _x_0 (Data.Error.Error err_1_0 -> _Tuple2 (Text.JSON.JSONObject (_predefined._Cons (_Tuple2 "error" (Text.JSON.JSONString err_1_0)) _predefined._Nil)) iworld_1) (Data.Error.Ok _x_1_0 -> select _x_1_0 (_Tuple3 lastEventNo_2_0 value_2_1 updates_2_2 -> let _x_3_0 = iTasks._Framework.IWorld.getResponseExpiry instanceNo_2 iworld_1 in _Tuple2 (Text.JSON.JSONObject (_predefined._Cons (_Tuple2 "instance" (Text.JSON.JSONInt instanceNo_2)) (_predefined._Cons (_Tuple2 "expiresIn" (Text.JSON.toJSONInField (<{iTasks._Framework.WebService.JSONEncode_s;}> iTasks._Framework.WebService.JSONEncode_s_605) (_predefined.tupsels2v0 _x_3_0))) (_predefined._Cons (_Tuple2 "lastEvent" (Text.JSON.JSONInt lastEventNo_2_0)) (_predefined._Cons (_Tuple2 "updates" (iTasks._Framework.UIDiff.encodeUIUpdates updates_2_2)) _predefined._Nil))))) (_predefined.tupsels2v1 _x_3_0)) ) (_ -> _Tuple2 (Text.JSON.JSONObject (_predefined._Cons (_Tuple2 "success" (Text.JSON.JSONBool False)) (_predefined._Cons (_Tuple2 "error" (Text.JSON.JSONString "Unknown exception")) _predefined._Nil))) iworld_1)
iTasks._Framework.WebService._f685_685 !_x_0 _x_1 _x_2 output_3 req_4 iworld_5 = select _x_0 ("gui-stream" -> select _x_1 (_predefined._Nil -> let instances_3_0 = _predefined._Cons (StdInt.toInt_23 _x_2) _predefined._Nil in _Tuple4 (iTasks._Framework.WebService.eventsResponse_601 (_predefined.tupsels2v0 (iTasks._Framework.WebService.popOutput_17 instances_3_0 output_3))) (Data.Maybe.Just (iTasks._Framework.Engine.EventSourceConnection instances_3_0)) Data.Maybe.Nothing (iTasks._Framework.TaskEval.updateInstanceConnect (Internet.HTTP.get_client_name_18 req_4) instances_3_0 iworld_5)) (_ -> <{iTasks._Framework.WebService._c;115;15_684}> iworld_5)) (_ -> <{iTasks._Framework.WebService._c;115;15_684}> iworld_5)
<{iTasks._Framework.WebService._c;115;15_684}> iworld_0 = _Tuple4 (Internet.HTTP.errorResponse "Requested service format not available for this task") Data.Maybe.Nothing Data.Maybe.Nothing iworld_0
<{iTasks._Framework.WebService._c;96;15_683}> !defaultFormat_0 _viTask_1 task_2 req_3 iworld_4 url_5 serverName_6 customCSS_7 = select defaultFormat_0 (iTasks._Framework.Engine.WebApp opts_1_0 -> <{iTasks._Framework.WebService._c;98;23_672}> (iTasks._Framework.TaskStore.createTaskInstance _viTask_1 (task_2 req_3) iworld_4) url_5 opts_1_0 serverName_6 customCSS_7) (iTasks._Framework.Engine.JSONPlain -> <{iTasks._Framework.WebService._c;104;23_682}> (iTasks._Framework.TaskStore.createTaskInstance _viTask_1 (task_2 req_3) iworld_4) req_3 iworld_4) (_ -> <{iTasks._Framework.WebService._c;96;15_671}> iworld_4)
<{iTasks._Framework.WebService._c;104;23_682}> !_x_0 req_1 iworld_2 = select _x_0 (_Tuple2 _x_1_0 iworld_1_1 -> select _x_1_0 (Data.Error.Error _x_2_0 -> select _x_2_0 (_Tuple2 _x_3_0 err_3_1 -> _Tuple4 (Internet.HTTP.errorResponse err_3_1) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) ) (Data.Error.Ok _x_2_0 -> iTasks._Framework.WebService._f681_681 _x_2_0 req_1 iworld_1_1 iworld_2) ) 
iTasks._Framework.WebService._f681_681 !_x_0 !req_1 !iworld_2 iworld_3 = select _x_0 (_Tuple2 instanceNo_1_0 instanceKey_1_1 -> <{iTasks._Framework.WebService._c;108;31_680}> (iTasks._Framework.TaskEval.evalTaskInstance instanceNo_1_0 (<{iTasks._Framework.WebService._c;171;21_679}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> iTasks._Framework.WebService.JSONDecode_s_608) (Text.JSON.fromString_8 (iTasks._Framework.HtmlUtil.paramValue "editEvent" req_1))) req_1) iworld_2)) (_ -> <{iTasks._Framework.WebService._c;96;15_671}> iworld_3)
<{iTasks._Framework.WebService._c;108;31_680}> !_x_0 = select _x_0 (_Tuple2 _x_1_0 iworld_1_1 -> select _x_1_0 (Data.Error.Error err_2_0 -> _Tuple4 (Internet.HTTP.errorResponse err_2_0) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) (Data.Error.Ok _x_2_0 -> select _x_2_0 (_Tuple3 _x_3_0 _x_3_1 _x_3_2 -> select _x_3_1 (iTasks.API.Core.Types.Value val_4_0 _x_4_1 -> _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 val_4_0) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) (iTasks.API.Core.Types.NoValue -> _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 Text.JSON.JSONNull) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) ) ) ) 
<{iTasks._Framework.WebService._c;171;21_679}> !_x_0 !req_1 = select _x_0 (Data.Maybe.Just _x_1_0 -> iTasks._Framework.WebService._f678_678 _x_1_0 req_1) (_ -> <{iTasks._Framework.WebService._c;171;21_677}> req_1)
iTasks._Framework.WebService._f678_678 !_x_0 !req_1 = select _x_0 (_Tuple3 task_1_0 name_1_1 value_1_2 -> iTasks._Framework.Task.EditEvent (StdInt.toInt_23 (iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1)) (iTasks.API.Core.Types.fromString_124 task_1_0) name_1_1 value_1_2) (_ -> <{iTasks._Framework.WebService._c;171;21_677}> req_1)
<{iTasks._Framework.WebService._c;171;21_677}> !req_0 = <{iTasks._Framework.WebService._c;173;23_676}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> iTasks._Framework.WebService.JSONDecode_s_607) (Text.JSON.fromString_8 (iTasks._Framework.HtmlUtil.paramValue "actionEvent" req_0))) req_0
<{iTasks._Framework.WebService._c;173;23_676}> !_x_0 !req_1 = select _x_0 (Data.Maybe.Just _x_1_0 -> iTasks._Framework.WebService._f675_675 _x_1_0 req_1) (_ -> <{iTasks._Framework.WebService._c;173;23_674}> req_1)
iTasks._Framework.WebService._f675_675 !_x_0 !req_1 = select _x_0 (_Tuple2 task_1_0 action_1_1 -> iTasks._Framework.Task.ActionEvent (StdInt.toInt_23 (iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1)) (iTasks.API.Core.Types.fromString_124 task_1_0) action_1_1) (_ -> <{iTasks._Framework.WebService._c;173;23_674}> req_1)
<{iTasks._Framework.WebService._c;173;23_674}> !req_0 = <{iTasks._Framework.WebService._c;175;27_673}> (Text.JSON.fromJSON (<{iTasks._Framework.WebService.JSONDecode_s;}> Text.JSON.JSONDecode__String_35) (Text.JSON.fromString_8 (iTasks._Framework.HtmlUtil.paramValue "focusEvent" req_0))) req_0
<{iTasks._Framework.WebService._c;175;27_673}> !_x_0 !req_1 = select _x_0 (Data.Maybe.Just task_1_0 -> iTasks._Framework.Task.FocusEvent (StdInt.toInt_23 (iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1)) (iTasks.API.Core.Types.fromString_124 task_1_0)) (_ -> if (<{StdString.==_2}> (iTasks._Framework.HtmlUtil.paramValue "resetEvent" req_1) "") (iTasks._Framework.Task.RefreshEvent (Data.Maybe.Just (StdInt.toInt_23 (iTasks._Framework.HtmlUtil.paramValue "eventNo" req_1)))) iTasks._Framework.Task.ResetEvent)
<{iTasks._Framework.WebService._c;98;23_672}> !_x_0 url_1 opts_2 serverName_3 customCSS_4 = select _x_0 (_Tuple2 _x_1_0 iworld_1_1 -> select _x_1_0 (Data.Error.Error _x_2_0 -> select _x_2_0 (_Tuple2 _x_3_0 err_3_1 -> _Tuple4 (Internet.HTTP.errorResponse err_3_1) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) ) (Data.Error.Ok _x_2_0 -> select _x_2_0 (_Tuple2 instanceNo_3_0 instanceKey_3_1 -> _Tuple4 (iTasks._Framework.WebService.itwcStartResponse_600 url_1 instanceNo_3_0 instanceKey_3_1 (iTasks._Framework.WebService.theme_4 opts_2) serverName_3 customCSS_4) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1_1) ) ) 
<{iTasks._Framework.WebService._c;96;15_671}> iworld_0 = _Tuple4 (iTasks._Framework.WebService.jsonResponse_598 (Text.JSON.JSONString "Unknown service format")) Data.Maybe.Nothing Data.Maybe.Nothing iworld_0
iTasks._Framework.WebService._f670_670 !_x_0 req_1 = select _x_0 (True -> Data.Maybe.isJust (Data.Map.get (<{StdOverloaded.<;}> <{StdString.<_3}>) "Sec-WebSocket-Key" (Internet.HTTP.get_req_headers_10 req_1))) (_ -> False)
<{iTasks._Framework.WebService._c;88;79_669}> !_x_0 = select _x_0 (Data.Maybe.Just _x_1_0 -> select _x_1_0 ("websocket" -> True) ) (_ -> False)
<{iTasks._Framework.WebService._c;81;15_668}> !_x_0 iworld_1 req_2 = select _x_0 (_Tuple2 _x_1_0 _x_1_1 -> select _x_1_0 (Data.Maybe.Just content_2_0 -> select _x_1_1 (Data.Maybe.Just _x_3_0 -> select _x_3_0 (iTasks.API.Core.Types._Document document_4_0 contentUrl_4_1 name_4_2 mime_4_3 size_4_4 -> _Tuple4 (Internet.HTTP.set_rsp_data_22 (Internet.HTTP.set_rsp_headers_21 Internet.HTTP.okResponse (_predefined._Cons (_Tuple2 "Content-Type" mime_4_3) (_predefined._Cons (_Tuple2 "Content-Length" (StdString.toString_5 size_4_4)) (_predefined._Cons (_Tuple2 "Content-Disposition" (<{StdString.+++_11}> "attachment;filename=\"" (<{StdString.+++_11}> name_4_2 "\""))) _predefined._Nil)))) content_2_0) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1) ) ) ) (_ -> _Tuple4 (iTasks._Framework.HtmlUtil.notFoundResponse req_2) Data.Maybe.Nothing Data.Maybe.Nothing iworld_1)
<{iTasks._Framework.WebService.reqFun`_613}> !_viTask_0 url_1 task_2 defaultFormat_3 !req_4 output_5 !iworld_6 = select iworld_6 (iTasks._Framework.IWorld._IWorld server_1_0 config_1_1 clocks_1_2 current_1_3 random_1_4 sdsNotifyRequests_1_5 memoryShares_1_6 cachedShares_1_7 exposedShares_1_8 jsCompilerState_1_9 refreshQueue_1_10 ioTasks_1_11 ioStates_1_12 world_1_13 resources_1_14 onClient_1_15 shutdown_1_16 -> iTasks._Framework.WebService.reqFun_614 _viTask_0 url_1 task_2 defaultFormat_3 req_4 output_5 (iTasks._Framework.IWorld.set_server_0 iworld_6 (iTasks._Framework.IWorld.set_serverURL_18 server_1_0 (<{StdString.+++_11}> "//" (<{StdString.+++_11}> (Internet.HTTP.get_server_name_16 req_4) (<{StdString.+++_11}> ":" (StdString.toString_5 (Internet.HTTP.get_server_port_17 req_4)))))))) 
iTasks._Framework.WebService.webService !_viTask_0 !url_1 !task_2 !defaultFormat_3 = <{_Tuple4!15}> (iTasks._Framework.WebService.matchFun_11 url_1) (<{iTasks._Framework.WebService.reqFun`_613}> _viTask_0 url_1 task_2 defaultFormat_3) iTasks._Framework.WebService.dataFun_15 iTasks._Framework.WebService.disconnectFun_16
<{iTasks._Framework.WebService.TD;NetTaskState}> _x_0 = _predefined._Nil
<{iTasks._Framework.WebService.TD;HttpReqState}> _x_0 = _predefined._Nil
<{iTasks._Framework.WebService.TD;WSCReq}> _x_0 = _predefined._Nil
<{iTasks._Framework.WebService.TD;WSCRsp}> _x_0 = _predefined._Nil

:: iTasks._Framework.WebService.NetTaskState = iTasks._Framework.WebService.NTIdle a1 a2 | iTasks._Framework.WebService.NTReadingRequest a1 | iTasks._Framework.WebService.NTProcessingRequest a1 a2
:: iTasks._Framework.WebService.WSCReq = iTasks._Framework.WebService.ReqStartSession !a1 | iTasks._Framework.WebService.TaskEvent !a1
:: iTasks._Framework.WebService.WSCRsp = iTasks._Framework.WebService.AckStartSession !a1 | iTasks._Framework.WebService.TaskUpdates !a1 !a2

|| Converted Records
:: iTasks._Framework.WebService._HttpReqState = {iTasks._Framework.WebService.request, iTasks._Framework.WebService.method_done, iTasks._Framework.WebService.headers_done, iTasks._Framework.WebService.data_done, iTasks._Framework.WebService.error}
iTasks._Framework.WebService.get_request_0 rec = select rec (iTasks._Framework.WebService._HttpReqState a1 a2 a3 a4 a5 -> a1)
iTasks._Framework.WebService.get_method_done_1 rec = select rec (iTasks._Framework.WebService._HttpReqState a1 a2 a3 a4 a5 -> a2)
iTasks._Framework.WebService.get_headers_done_2 rec = select rec (iTasks._Framework.WebService._HttpReqState a1 a2 a3 a4 a5 -> a3)
iTasks._Framework.WebService.get_data_done_3 rec = select rec (iTasks._Framework.WebService._HttpReqState a1 a2 a3 a4 a5 -> a4)
iTasks._Framework.WebService.get_error_4 rec = select rec (iTasks._Framework.WebService._HttpReqState a1 a2 a3 a4 a5 -> a5)
iTasks._Framework.WebService.set_request_0 rec val = select rec (iTasks._Framework.WebService._HttpReqState  a1 a2 a3 a4 a5 -> iTasks._Framework.WebService._HttpReqState val a2 a3 a4 a5)
iTasks._Framework.WebService.set_method_done_1 rec val = select rec (iTasks._Framework.WebService._HttpReqState  a1 a2 a3 a4 a5 -> iTasks._Framework.WebService._HttpReqState a1 val a3 a4 a5)
iTasks._Framework.WebService.set_headers_done_2 rec val = select rec (iTasks._Framework.WebService._HttpReqState  a1 a2 a3 a4 a5 -> iTasks._Framework.WebService._HttpReqState a1 a2 val a4 a5)
iTasks._Framework.WebService.set_data_done_3 rec val = select rec (iTasks._Framework.WebService._HttpReqState  a1 a2 a3 a4 a5 -> iTasks._Framework.WebService._HttpReqState a1 a2 a3 val a5)
iTasks._Framework.WebService.set_error_4 rec val = select rec (iTasks._Framework.WebService._HttpReqState  a1 a2 a3 a4 a5 -> iTasks._Framework.WebService._HttpReqState a1 a2 a3 a4 val)

:: <{iTasks._Framework.WebService.JSONEncode_s;}> = {iTasks._Framework.WebService.JSONEncode_s}
iTasks._Framework.WebService.get_JSONEncode_s_5 rec = select rec (<{iTasks._Framework.WebService.JSONEncode_s;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONEncode_s_5 rec val = select rec (<{iTasks._Framework.WebService.JSONEncode_s;}>  a1 -> <{iTasks._Framework.WebService.JSONEncode_s;}> val)

:: <{iTasks._Framework.WebService.JSONEncode_ss;}> = {iTasks._Framework.WebService.JSONEncode_ss}
iTasks._Framework.WebService.get_JSONEncode_ss_6 rec = select rec (<{iTasks._Framework.WebService.JSONEncode_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONEncode_ss_6 rec val = select rec (<{iTasks._Framework.WebService.JSONEncode_ss;}>  a1 -> <{iTasks._Framework.WebService.JSONEncode_ss;}> val)

:: <{iTasks._Framework.WebService.JSONEncode_sss;}> = {iTasks._Framework.WebService.JSONEncode_sss}
iTasks._Framework.WebService.get_JSONEncode_sss_7 rec = select rec (<{iTasks._Framework.WebService.JSONEncode_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONEncode_sss_7 rec val = select rec (<{iTasks._Framework.WebService.JSONEncode_sss;}>  a1 -> <{iTasks._Framework.WebService.JSONEncode_sss;}> val)

:: <{iTasks._Framework.WebService.JSONDecode_s;}> = {iTasks._Framework.WebService.JSONDecode_s}
iTasks._Framework.WebService.get_JSONDecode_s_8 rec = select rec (<{iTasks._Framework.WebService.JSONDecode_s;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONDecode_s_8 rec val = select rec (<{iTasks._Framework.WebService.JSONDecode_s;}>  a1 -> <{iTasks._Framework.WebService.JSONDecode_s;}> val)

:: <{iTasks._Framework.WebService.JSONDecode_ss;}> = {iTasks._Framework.WebService.JSONDecode_ss}
iTasks._Framework.WebService.get_JSONDecode_ss_9 rec = select rec (<{iTasks._Framework.WebService.JSONDecode_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONDecode_ss_9 rec val = select rec (<{iTasks._Framework.WebService.JSONDecode_ss;}>  a1 -> <{iTasks._Framework.WebService.JSONDecode_ss;}> val)

:: <{iTasks._Framework.WebService.JSONDecode_sss;}> = {iTasks._Framework.WebService.JSONDecode_sss}
iTasks._Framework.WebService.get_JSONDecode_sss_10 rec = select rec (<{iTasks._Framework.WebService.JSONDecode_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONDecode_sss_10 rec val = select rec (<{iTasks._Framework.WebService.JSONDecode_sss;}>  a1 -> <{iTasks._Framework.WebService.JSONDecode_sss;}> val)

:: <{iTasks._Framework.WebService.gDefault_s;}> = {iTasks._Framework.WebService.gDefault_s}
iTasks._Framework.WebService.get_gDefault_s_11 rec = select rec (<{iTasks._Framework.WebService.gDefault_s;}> a1 -> a1)
iTasks._Framework.WebService.set_gDefault_s_11 rec val = select rec (<{iTasks._Framework.WebService.gDefault_s;}>  a1 -> <{iTasks._Framework.WebService.gDefault_s;}> val)

:: <{iTasks._Framework.WebService.gDefault_ss;}> = {iTasks._Framework.WebService.gDefault_ss}
iTasks._Framework.WebService.get_gDefault_ss_12 rec = select rec (<{iTasks._Framework.WebService.gDefault_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_gDefault_ss_12 rec val = select rec (<{iTasks._Framework.WebService.gDefault_ss;}>  a1 -> <{iTasks._Framework.WebService.gDefault_ss;}> val)

:: <{iTasks._Framework.WebService.gDefault_sss;}> = {iTasks._Framework.WebService.gDefault_sss}
iTasks._Framework.WebService.get_gDefault_sss_13 rec = select rec (<{iTasks._Framework.WebService.gDefault_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_gDefault_sss_13 rec val = select rec (<{iTasks._Framework.WebService.gDefault_sss;}>  a1 -> <{iTasks._Framework.WebService.gDefault_sss;}> val)

:: <{iTasks._Framework.WebService.gUpdate_s;}> = {iTasks._Framework.WebService.gUpdate_s}
iTasks._Framework.WebService.get_gUpdate_s_14 rec = select rec (<{iTasks._Framework.WebService.gUpdate_s;}> a1 -> a1)
iTasks._Framework.WebService.set_gUpdate_s_14 rec val = select rec (<{iTasks._Framework.WebService.gUpdate_s;}>  a1 -> <{iTasks._Framework.WebService.gUpdate_s;}> val)

:: <{iTasks._Framework.WebService.gUpdate_ss;}> = {iTasks._Framework.WebService.gUpdate_ss}
iTasks._Framework.WebService.get_gUpdate_ss_15 rec = select rec (<{iTasks._Framework.WebService.gUpdate_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_gUpdate_ss_15 rec val = select rec (<{iTasks._Framework.WebService.gUpdate_ss;}>  a1 -> <{iTasks._Framework.WebService.gUpdate_ss;}> val)

:: <{iTasks._Framework.WebService.gUpdate_sss;}> = {iTasks._Framework.WebService.gUpdate_sss}
iTasks._Framework.WebService.get_gUpdate_sss_16 rec = select rec (<{iTasks._Framework.WebService.gUpdate_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_gUpdate_sss_16 rec val = select rec (<{iTasks._Framework.WebService.gUpdate_sss;}>  a1 -> <{iTasks._Framework.WebService.gUpdate_sss;}> val)

:: <{iTasks._Framework.WebService.gVerify_s;}> = {iTasks._Framework.WebService.gVerify_s}
iTasks._Framework.WebService.get_gVerify_s_17 rec = select rec (<{iTasks._Framework.WebService.gVerify_s;}> a1 -> a1)
iTasks._Framework.WebService.set_gVerify_s_17 rec val = select rec (<{iTasks._Framework.WebService.gVerify_s;}>  a1 -> <{iTasks._Framework.WebService.gVerify_s;}> val)

:: <{iTasks._Framework.WebService.gVerify_ss;}> = {iTasks._Framework.WebService.gVerify_ss}
iTasks._Framework.WebService.get_gVerify_ss_18 rec = select rec (<{iTasks._Framework.WebService.gVerify_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_gVerify_ss_18 rec val = select rec (<{iTasks._Framework.WebService.gVerify_ss;}>  a1 -> <{iTasks._Framework.WebService.gVerify_ss;}> val)

:: <{iTasks._Framework.WebService.gVerify_sss;}> = {iTasks._Framework.WebService.gVerify_sss}
iTasks._Framework.WebService.get_gVerify_sss_19 rec = select rec (<{iTasks._Framework.WebService.gVerify_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_gVerify_sss_19 rec val = select rec (<{iTasks._Framework.WebService.gVerify_sss;}>  a1 -> <{iTasks._Framework.WebService.gVerify_sss;}> val)

:: <{iTasks._Framework.WebService.gText_s;}> = {iTasks._Framework.WebService.gText_s}
iTasks._Framework.WebService.get_gText_s_20 rec = select rec (<{iTasks._Framework.WebService.gText_s;}> a1 -> a1)
iTasks._Framework.WebService.set_gText_s_20 rec val = select rec (<{iTasks._Framework.WebService.gText_s;}>  a1 -> <{iTasks._Framework.WebService.gText_s;}> val)

:: <{iTasks._Framework.WebService.gText_ss;}> = {iTasks._Framework.WebService.gText_ss}
iTasks._Framework.WebService.get_gText_ss_21 rec = select rec (<{iTasks._Framework.WebService.gText_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_gText_ss_21 rec val = select rec (<{iTasks._Framework.WebService.gText_ss;}>  a1 -> <{iTasks._Framework.WebService.gText_ss;}> val)

:: <{iTasks._Framework.WebService.gText_sss;}> = {iTasks._Framework.WebService.gText_sss}
iTasks._Framework.WebService.get_gText_sss_22 rec = select rec (<{iTasks._Framework.WebService.gText_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_gText_sss_22 rec val = select rec (<{iTasks._Framework.WebService.gText_sss;}>  a1 -> <{iTasks._Framework.WebService.gText_sss;}> val)

:: <{iTasks._Framework.WebService.gEditor_s;}> = {iTasks._Framework.WebService.gEditor_s}
iTasks._Framework.WebService.get_gEditor_s_23 rec = select rec (<{iTasks._Framework.WebService.gEditor_s;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditor_s_23 rec val = select rec (<{iTasks._Framework.WebService.gEditor_s;}>  a1 -> <{iTasks._Framework.WebService.gEditor_s;}> val)

:: <{iTasks._Framework.WebService.gEditor_ss;}> = {iTasks._Framework.WebService.gEditor_ss}
iTasks._Framework.WebService.get_gEditor_ss_24 rec = select rec (<{iTasks._Framework.WebService.gEditor_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditor_ss_24 rec val = select rec (<{iTasks._Framework.WebService.gEditor_ss;}>  a1 -> <{iTasks._Framework.WebService.gEditor_ss;}> val)

:: <{iTasks._Framework.WebService.gEditor_sss;}> = {iTasks._Framework.WebService.gEditor_sss}
iTasks._Framework.WebService.get_gEditor_sss_25 rec = select rec (<{iTasks._Framework.WebService.gEditor_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditor_sss_25 rec val = select rec (<{iTasks._Framework.WebService.gEditor_sss;}>  a1 -> <{iTasks._Framework.WebService.gEditor_sss;}> val)

:: <{iTasks._Framework.WebService.gEditMeta_s;}> = {iTasks._Framework.WebService.gEditMeta_s}
iTasks._Framework.WebService.get_gEditMeta_s_26 rec = select rec (<{iTasks._Framework.WebService.gEditMeta_s;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditMeta_s_26 rec val = select rec (<{iTasks._Framework.WebService.gEditMeta_s;}>  a1 -> <{iTasks._Framework.WebService.gEditMeta_s;}> val)

:: <{iTasks._Framework.WebService.gEditMeta_ss;}> = {iTasks._Framework.WebService.gEditMeta_ss}
iTasks._Framework.WebService.get_gEditMeta_ss_27 rec = select rec (<{iTasks._Framework.WebService.gEditMeta_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditMeta_ss_27 rec val = select rec (<{iTasks._Framework.WebService.gEditMeta_ss;}>  a1 -> <{iTasks._Framework.WebService.gEditMeta_ss;}> val)

:: <{iTasks._Framework.WebService.gEditMeta_sss;}> = {iTasks._Framework.WebService.gEditMeta_sss}
iTasks._Framework.WebService.get_gEditMeta_sss_28 rec = select rec (<{iTasks._Framework.WebService.gEditMeta_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditMeta_sss_28 rec val = select rec (<{iTasks._Framework.WebService.gEditMeta_sss;}>  a1 -> <{iTasks._Framework.WebService.gEditMeta_sss;}> val)

:: <{iTasks._Framework.WebService.gEq_s;}> = {iTasks._Framework.WebService.gEq_s}
iTasks._Framework.WebService.get_gEq_s_29 rec = select rec (<{iTasks._Framework.WebService.gEq_s;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_s_29 rec val = select rec (<{iTasks._Framework.WebService.gEq_s;}>  a1 -> <{iTasks._Framework.WebService.gEq_s;}> val)

:: <{iTasks._Framework.WebService.gEq_ss;}> = {iTasks._Framework.WebService.gEq_ss}
iTasks._Framework.WebService.get_gEq_ss_30 rec = select rec (<{iTasks._Framework.WebService.gEq_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_ss_30 rec val = select rec (<{iTasks._Framework.WebService.gEq_ss;}>  a1 -> <{iTasks._Framework.WebService.gEq_ss;}> val)

:: <{iTasks._Framework.WebService.gEq_sss;}> = {iTasks._Framework.WebService.gEq_sss}
iTasks._Framework.WebService.get_gEq_sss_31 rec = select rec (<{iTasks._Framework.WebService.gEq_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_sss_31 rec val = select rec (<{iTasks._Framework.WebService.gEq_sss;}>  a1 -> <{iTasks._Framework.WebService.gEq_sss;}> val)

:: <{iTasks._Framework.WebService.JSONEncode_ssss;}> = {iTasks._Framework.WebService.JSONEncode_ssss}
iTasks._Framework.WebService.get_JSONEncode_ssss_32 rec = select rec (<{iTasks._Framework.WebService.JSONEncode_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONEncode_ssss_32 rec val = select rec (<{iTasks._Framework.WebService.JSONEncode_ssss;}>  a1 -> <{iTasks._Framework.WebService.JSONEncode_ssss;}> val)

:: <{iTasks._Framework.WebService.JSONDecode_ssss;}> = {iTasks._Framework.WebService.JSONDecode_ssss}
iTasks._Framework.WebService.get_JSONDecode_ssss_33 rec = select rec (<{iTasks._Framework.WebService.JSONDecode_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONDecode_ssss_33 rec val = select rec (<{iTasks._Framework.WebService.JSONDecode_ssss;}>  a1 -> <{iTasks._Framework.WebService.JSONDecode_ssss;}> val)

:: <{iTasks._Framework.WebService.gEq_ssss;}> = {iTasks._Framework.WebService.gEq_ssss}
iTasks._Framework.WebService.get_gEq_ssss_34 rec = select rec (<{iTasks._Framework.WebService.gEq_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_ssss_34 rec val = select rec (<{iTasks._Framework.WebService.gEq_ssss;}>  a1 -> <{iTasks._Framework.WebService.gEq_ssss;}> val)

:: <{iTasks._Framework.WebService.gDefault_ssss;}> = {iTasks._Framework.WebService.gDefault_ssss}
iTasks._Framework.WebService.get_gDefault_ssss_35 rec = select rec (<{iTasks._Framework.WebService.gDefault_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gDefault_ssss_35 rec val = select rec (<{iTasks._Framework.WebService.gDefault_ssss;}>  a1 -> <{iTasks._Framework.WebService.gDefault_ssss;}> val)

:: <{iTasks._Framework.WebService.JSONEncode_sssss;}> = {iTasks._Framework.WebService.JSONEncode_sssss}
iTasks._Framework.WebService.get_JSONEncode_sssss_36 rec = select rec (<{iTasks._Framework.WebService.JSONEncode_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONEncode_sssss_36 rec val = select rec (<{iTasks._Framework.WebService.JSONEncode_sssss;}>  a1 -> <{iTasks._Framework.WebService.JSONEncode_sssss;}> val)

:: <{iTasks._Framework.WebService.JSONEncode_ssssss;}> = {iTasks._Framework.WebService.JSONEncode_ssssss}
iTasks._Framework.WebService.get_JSONEncode_ssssss_37 rec = select rec (<{iTasks._Framework.WebService.JSONEncode_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONEncode_ssssss_37 rec val = select rec (<{iTasks._Framework.WebService.JSONEncode_ssssss;}>  a1 -> <{iTasks._Framework.WebService.JSONEncode_ssssss;}> val)

:: <{iTasks._Framework.WebService.JSONDecode_sssss;}> = {iTasks._Framework.WebService.JSONDecode_sssss}
iTasks._Framework.WebService.get_JSONDecode_sssss_38 rec = select rec (<{iTasks._Framework.WebService.JSONDecode_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONDecode_sssss_38 rec val = select rec (<{iTasks._Framework.WebService.JSONDecode_sssss;}>  a1 -> <{iTasks._Framework.WebService.JSONDecode_sssss;}> val)

:: <{iTasks._Framework.WebService.JSONDecode_ssssss;}> = {iTasks._Framework.WebService.JSONDecode_ssssss}
iTasks._Framework.WebService.get_JSONDecode_ssssss_39 rec = select rec (<{iTasks._Framework.WebService.JSONDecode_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_JSONDecode_ssssss_39 rec val = select rec (<{iTasks._Framework.WebService.JSONDecode_ssssss;}>  a1 -> <{iTasks._Framework.WebService.JSONDecode_ssssss;}> val)

:: <{iTasks._Framework.WebService.bimap_s;}> = {iTasks._Framework.WebService.bimap_s}
iTasks._Framework.WebService.get_bimap_s_40 rec = select rec (<{iTasks._Framework.WebService.bimap_s;}> a1 -> a1)
iTasks._Framework.WebService.set_bimap_s_40 rec val = select rec (<{iTasks._Framework.WebService.bimap_s;}>  a1 -> <{iTasks._Framework.WebService.bimap_s;}> val)

:: <{iTasks._Framework.WebService.bimap_ss;}> = {iTasks._Framework.WebService.bimap_ss}
iTasks._Framework.WebService.get_bimap_ss_41 rec = select rec (<{iTasks._Framework.WebService.bimap_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_bimap_ss_41 rec val = select rec (<{iTasks._Framework.WebService.bimap_ss;}>  a1 -> <{iTasks._Framework.WebService.bimap_ss;}> val)

:: <{iTasks._Framework.WebService.bimap_sss;}> = {iTasks._Framework.WebService.bimap_sss}
iTasks._Framework.WebService.get_bimap_sss_42 rec = select rec (<{iTasks._Framework.WebService.bimap_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_bimap_sss_42 rec val = select rec (<{iTasks._Framework.WebService.bimap_sss;}>  a1 -> <{iTasks._Framework.WebService.bimap_sss;}> val)

:: <{iTasks._Framework.WebService.gEq_sssss;}> = {iTasks._Framework.WebService.gEq_sssss}
iTasks._Framework.WebService.get_gEq_sssss_43 rec = select rec (<{iTasks._Framework.WebService.gEq_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_sssss_43 rec val = select rec (<{iTasks._Framework.WebService.gEq_sssss;}>  a1 -> <{iTasks._Framework.WebService.gEq_sssss;}> val)

:: <{iTasks._Framework.WebService.gEq_ssssss;}> = {iTasks._Framework.WebService.gEq_ssssss}
iTasks._Framework.WebService.get_gEq_ssssss_44 rec = select rec (<{iTasks._Framework.WebService.gEq_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_ssssss_44 rec val = select rec (<{iTasks._Framework.WebService.gEq_ssssss;}>  a1 -> <{iTasks._Framework.WebService.gEq_ssssss;}> val)

:: <{iTasks._Framework.WebService.gEq_sssssss;}> = {iTasks._Framework.WebService.gEq_sssssss}
iTasks._Framework.WebService.get_gEq_sssssss_45 rec = select rec (<{iTasks._Framework.WebService.gEq_sssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_sssssss_45 rec val = select rec (<{iTasks._Framework.WebService.gEq_sssssss;}>  a1 -> <{iTasks._Framework.WebService.gEq_sssssss;}> val)

:: <{iTasks._Framework.WebService.gEq_ssssssss;}> = {iTasks._Framework.WebService.gEq_ssssssss}
iTasks._Framework.WebService.get_gEq_ssssssss_46 rec = select rec (<{iTasks._Framework.WebService.gEq_ssssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_ssssssss_46 rec val = select rec (<{iTasks._Framework.WebService.gEq_ssssssss;}>  a1 -> <{iTasks._Framework.WebService.gEq_ssssssss;}> val)

:: <{iTasks._Framework.WebService.gEq_sssssssss;}> = {iTasks._Framework.WebService.gEq_sssssssss}
iTasks._Framework.WebService.get_gEq_sssssssss_47 rec = select rec (<{iTasks._Framework.WebService.gEq_sssssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEq_sssssssss_47 rec val = select rec (<{iTasks._Framework.WebService.gEq_sssssssss;}>  a1 -> <{iTasks._Framework.WebService.gEq_sssssssss;}> val)

:: <{iTasks._Framework.WebService.gEditor_ssss;}> = {iTasks._Framework.WebService.gEditor_ssss}
iTasks._Framework.WebService.get_gEditor_ssss_48 rec = select rec (<{iTasks._Framework.WebService.gEditor_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditor_ssss_48 rec val = select rec (<{iTasks._Framework.WebService.gEditor_ssss;}>  a1 -> <{iTasks._Framework.WebService.gEditor_ssss;}> val)

:: <{iTasks._Framework.WebService.gText_ssss;}> = {iTasks._Framework.WebService.gText_ssss}
iTasks._Framework.WebService.get_gText_ssss_49 rec = select rec (<{iTasks._Framework.WebService.gText_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gText_ssss_49 rec val = select rec (<{iTasks._Framework.WebService.gText_ssss;}>  a1 -> <{iTasks._Framework.WebService.gText_ssss;}> val)

:: <{iTasks._Framework.WebService.gEditMeta_ssss;}> = {iTasks._Framework.WebService.gEditMeta_ssss}
iTasks._Framework.WebService.get_gEditMeta_ssss_50 rec = select rec (<{iTasks._Framework.WebService.gEditMeta_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditMeta_ssss_50 rec val = select rec (<{iTasks._Framework.WebService.gEditMeta_ssss;}>  a1 -> <{iTasks._Framework.WebService.gEditMeta_ssss;}> val)

:: <{iTasks._Framework.WebService.gEditor_sssss;}> = {iTasks._Framework.WebService.gEditor_sssss}
iTasks._Framework.WebService.get_gEditor_sssss_51 rec = select rec (<{iTasks._Framework.WebService.gEditor_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditor_sssss_51 rec val = select rec (<{iTasks._Framework.WebService.gEditor_sssss;}>  a1 -> <{iTasks._Framework.WebService.gEditor_sssss;}> val)

:: <{iTasks._Framework.WebService.gText_sssss;}> = {iTasks._Framework.WebService.gText_sssss}
iTasks._Framework.WebService.get_gText_sssss_52 rec = select rec (<{iTasks._Framework.WebService.gText_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gText_sssss_52 rec val = select rec (<{iTasks._Framework.WebService.gText_sssss;}>  a1 -> <{iTasks._Framework.WebService.gText_sssss;}> val)

:: <{iTasks._Framework.WebService.gDefault_sssss;}> = {iTasks._Framework.WebService.gDefault_sssss}
iTasks._Framework.WebService.get_gDefault_sssss_53 rec = select rec (<{iTasks._Framework.WebService.gDefault_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gDefault_sssss_53 rec val = select rec (<{iTasks._Framework.WebService.gDefault_sssss;}>  a1 -> <{iTasks._Framework.WebService.gDefault_sssss;}> val)

:: <{iTasks._Framework.WebService.gEditMeta_sssss;}> = {iTasks._Framework.WebService.gEditMeta_sssss}
iTasks._Framework.WebService.get_gEditMeta_sssss_54 rec = select rec (<{iTasks._Framework.WebService.gEditMeta_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditMeta_sssss_54 rec val = select rec (<{iTasks._Framework.WebService.gEditMeta_sssss;}>  a1 -> <{iTasks._Framework.WebService.gEditMeta_sssss;}> val)

:: <{iTasks._Framework.WebService.gEditor_ssssss;}> = {iTasks._Framework.WebService.gEditor_ssssss}
iTasks._Framework.WebService.get_gEditor_ssssss_55 rec = select rec (<{iTasks._Framework.WebService.gEditor_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditor_ssssss_55 rec val = select rec (<{iTasks._Framework.WebService.gEditor_ssssss;}>  a1 -> <{iTasks._Framework.WebService.gEditor_ssssss;}> val)

:: <{iTasks._Framework.WebService.gText_ssssss;}> = {iTasks._Framework.WebService.gText_ssssss}
iTasks._Framework.WebService.get_gText_ssssss_56 rec = select rec (<{iTasks._Framework.WebService.gText_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gText_ssssss_56 rec val = select rec (<{iTasks._Framework.WebService.gText_ssssss;}>  a1 -> <{iTasks._Framework.WebService.gText_ssssss;}> val)

:: <{iTasks._Framework.WebService.gDefault_ssssss;}> = {iTasks._Framework.WebService.gDefault_ssssss}
iTasks._Framework.WebService.get_gDefault_ssssss_57 rec = select rec (<{iTasks._Framework.WebService.gDefault_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gDefault_ssssss_57 rec val = select rec (<{iTasks._Framework.WebService.gDefault_ssssss;}>  a1 -> <{iTasks._Framework.WebService.gDefault_ssssss;}> val)

:: <{iTasks._Framework.WebService.gEditMeta_ssssss;}> = {iTasks._Framework.WebService.gEditMeta_ssssss}
iTasks._Framework.WebService.get_gEditMeta_ssssss_58 rec = select rec (<{iTasks._Framework.WebService.gEditMeta_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gEditMeta_ssssss_58 rec val = select rec (<{iTasks._Framework.WebService.gEditMeta_ssssss;}>  a1 -> <{iTasks._Framework.WebService.gEditMeta_ssssss;}> val)

:: <{iTasks._Framework.WebService.gVerify_ssss;}> = {iTasks._Framework.WebService.gVerify_ssss}
iTasks._Framework.WebService.get_gVerify_ssss_59 rec = select rec (<{iTasks._Framework.WebService.gVerify_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gVerify_ssss_59 rec val = select rec (<{iTasks._Framework.WebService.gVerify_ssss;}>  a1 -> <{iTasks._Framework.WebService.gVerify_ssss;}> val)

:: <{iTasks._Framework.WebService.gVerify_sssss;}> = {iTasks._Framework.WebService.gVerify_sssss}
iTasks._Framework.WebService.get_gVerify_sssss_60 rec = select rec (<{iTasks._Framework.WebService.gVerify_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gVerify_sssss_60 rec val = select rec (<{iTasks._Framework.WebService.gVerify_sssss;}>  a1 -> <{iTasks._Framework.WebService.gVerify_sssss;}> val)

:: <{iTasks._Framework.WebService.gVerify_ssssss;}> = {iTasks._Framework.WebService.gVerify_ssssss}
iTasks._Framework.WebService.get_gVerify_ssssss_61 rec = select rec (<{iTasks._Framework.WebService.gVerify_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gVerify_ssssss_61 rec val = select rec (<{iTasks._Framework.WebService.gVerify_ssssss;}>  a1 -> <{iTasks._Framework.WebService.gVerify_ssssss;}> val)

:: <{iTasks._Framework.WebService.gUpdate_ssss;}> = {iTasks._Framework.WebService.gUpdate_ssss}
iTasks._Framework.WebService.get_gUpdate_ssss_62 rec = select rec (<{iTasks._Framework.WebService.gUpdate_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gUpdate_ssss_62 rec val = select rec (<{iTasks._Framework.WebService.gUpdate_ssss;}>  a1 -> <{iTasks._Framework.WebService.gUpdate_ssss;}> val)

:: <{iTasks._Framework.WebService.gUpdate_sssss;}> = {iTasks._Framework.WebService.gUpdate_sssss}
iTasks._Framework.WebService.get_gUpdate_sssss_63 rec = select rec (<{iTasks._Framework.WebService.gUpdate_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gUpdate_sssss_63 rec val = select rec (<{iTasks._Framework.WebService.gUpdate_sssss;}>  a1 -> <{iTasks._Framework.WebService.gUpdate_sssss;}> val)

:: <{iTasks._Framework.WebService.gUpdate_ssssss;}> = {iTasks._Framework.WebService.gUpdate_ssssss}
iTasks._Framework.WebService.get_gUpdate_ssssss_64 rec = select rec (<{iTasks._Framework.WebService.gUpdate_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gUpdate_ssssss_64 rec val = select rec (<{iTasks._Framework.WebService.gUpdate_ssssss;}>  a1 -> <{iTasks._Framework.WebService.gUpdate_ssssss;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_s;}> = {iTasks._Framework.WebService.gLexOrd_s}
iTasks._Framework.WebService.get_gLexOrd_s_65 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_s;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_s_65 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_s;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_s;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_ss;}> = {iTasks._Framework.WebService.gLexOrd_ss}
iTasks._Framework.WebService.get_gLexOrd_ss_66 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_ss;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_ss_66 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_ss;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_ss;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_sss;}> = {iTasks._Framework.WebService.gLexOrd_sss}
iTasks._Framework.WebService.get_gLexOrd_sss_67 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_sss;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_sss_67 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_sss;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_sss;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_ssss;}> = {iTasks._Framework.WebService.gLexOrd_ssss}
iTasks._Framework.WebService.get_gLexOrd_ssss_68 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_ssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_ssss_68 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_ssss;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_ssss;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_sssss;}> = {iTasks._Framework.WebService.gLexOrd_sssss}
iTasks._Framework.WebService.get_gLexOrd_sssss_69 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_sssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_sssss_69 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_sssss;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_sssss;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_ssssss;}> = {iTasks._Framework.WebService.gLexOrd_ssssss}
iTasks._Framework.WebService.get_gLexOrd_ssssss_70 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_ssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_ssssss_70 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_ssssss;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_ssssss;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_sssssss;}> = {iTasks._Framework.WebService.gLexOrd_sssssss}
iTasks._Framework.WebService.get_gLexOrd_sssssss_71 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_sssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_sssssss_71 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_sssssss;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_sssssss;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_ssssssss;}> = {iTasks._Framework.WebService.gLexOrd_ssssssss}
iTasks._Framework.WebService.get_gLexOrd_ssssssss_72 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_ssssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_ssssssss_72 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_ssssssss;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_ssssssss;}> val)

:: <{iTasks._Framework.WebService.gLexOrd_sssssssss;}> = {iTasks._Framework.WebService.gLexOrd_sssssssss}
iTasks._Framework.WebService.get_gLexOrd_sssssssss_73 rec = select rec (<{iTasks._Framework.WebService.gLexOrd_sssssssss;}> a1 -> a1)
iTasks._Framework.WebService.set_gLexOrd_sssssssss_73 rec val = select rec (<{iTasks._Framework.WebService.gLexOrd_sssssssss;}>  a1 -> <{iTasks._Framework.WebService.gLexOrd_sssssssss;}> val)

