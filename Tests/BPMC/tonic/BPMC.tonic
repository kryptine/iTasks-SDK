{"tm_name":"BPMC","tm_tasks":["Bin",7,"modify",{"tt_name":"modify","tt_resty":"b","tt_args":[["_x","Tuple2 String a"],["_x","Tuple2 String b"]],"tt_body":["TCaseOrIf","_x",[["_Tuple2 infodocument",["TCaseOrIf","_x",[["_Tuple2 promptresponse",["TParallel",[0,0,0],["ParSumR",["TTaskApp",[0,0,0,0],"iTasks.API.Common.InteractionTasks","viewInformation",[["TVar",[],"info"],["TVar",[],"[]"],["TVar",[],"document"]]],["TTaskApp",[0,0,0,1],"iTasks.API.Common.InteractionTasks","updateInformation",[["TVar",[],"prompt"],["TVar",[],"[]"],["TVar",[],"response"]]]]]]]]]]]},["Bin",4,"handleRequest",{"tt_name":"handleRequest","tt_resty":"Unit","tt_args":[["foUser","User"],["clientUser","User"],["request","ClientRequest"]],"tt_body":["TLet",[["document","_Document` 34 14"],["clientEmail","request.email"],["clientAdmin","getClient request.id"]],["TBind",["TBind",["TTaskApp",[0,0,0,0],"BPMC","receive",[["TVar",[],"foUser"],["TVar",[],"clientUser"],["TVar",[],"\"The following Service Request has been received...\""],["TVar",[],"request"]]],[],["TTaskApp",[0,0,0,1],"BPMC","modify",[["TVar",[],"_Tuple2 \"Info received:\" request"],["TVar",[],"_Tuple2 \"Handle Service Request:\" document"]]]],["document"],["TBind",["TTaskApp",[0,0,1,0],"BPMC","verify",[["TVar",[],"_Tuple3 \"Verify:\" _Tuple2 \"Request :\" request _Tuple2 \"Client Info: \" clientAdmin"]]],["ok"],["TBind",["TCaseOrIf","not ok",[["_",["TTaskApp",[0,0,1,1,0,0,0],"BPMC","inform",[["TVar",[],"foEmail "],["TVar",[],"clientEmail"],["TVar",[],"\"your request\""],["TVar",[],"toMultiLineText request"]]]],["True",["TTaskApp",[0,0,1,1,0,0,0],"BPMC","inform",[["TVar",[],"foEmail "],["TVar",[],"clientEmail"],["TVar",[],"\"your request\""],["TVar",[],"toMultiLineText request"]]]]]],[],["TReturn",["TCleanExpr",[],"_Unit "]]]]]]},["Bin",2,"create",{"tt_name":"create","tt_resty":"a","tt_args":[["info","String"]],"tt_body":["TTaskApp",[0],"iTasks.API.Common.InteractionTasks","enterInformation",[["TVar",[],"info"],["TVar",[],"[]"]]]},["Bin",1,"caseA",{"tt_name":"caseA","tt_resty":"Unit","tt_args":[],"tt_body":["TBind",["TShare","Get","currentUser",[]],["clientUser"],["TBind",["TTaskApp",[0,1,0],"BPMC","create",[["TVar",[],"\"Submit Service Request\""]]],["request"],["TBind",["TAssign",["TUVariableUser","foUser"],["TTaskApp",[0,1,1,0,0],"BPMC","handleRequest",[["TVar",[],"foUser "],["TVar",[],"clientUser"],["TVar",[],"request"]]]],[],["TReturn",["TCleanExpr",[],"_Unit "]]]]]},"Tip","Tip"],"Tip"],["Bin",1,"inform",{"tt_name":"inform","tt_resty":"Unit","tt_args":[["fromUser","EmailAddr"],["toUser","EmailAddr"],["subject","String"],["body","String"]],"tt_body":["TBind",["TTaskApp",[0,0],"iTasks.API.Common.InteractionTasks","updateInformation",[["TVar",[],"\"Compose an email\""],["TVar",[],"[]"],["TVar",[],"_Email fromUser toUser subject Note toString body"]]],["mail"],["TBind",["TTaskApp",[0,1,0],"iTasks.API.Core.IntegrationTasks","sendEmail",[["TVar",[],"mail.email_subject"],["TVar",[],"mail.email_body"],["TVar",[],"mail.email_from"],["TVar",[],"[mail.email_to : []]"]]],[],["TReturn",["TCleanExpr",[],"_Unit "]]]]},"Tip","Tip"]],["Bin",2,"verify",{"tt_name":"verify","tt_resty":"Bool","tt_args":[["info","a"]],"tt_body":["TStep",["TTaskApp",[0,0],"iTasks.API.Common.InteractionTasks","viewInformation",[["TVar",[],"\"Is this Information Correct?\""],["TVar",[],"[]"],["TVar",[],"info"]]],[["T",["StepOnAction","Yes",["Always",["TReturn",["TCleanExpr",[],"True"]]]]],["T",["StepOnAction","No",["Always",["TReturn",["TCleanExpr",[],"False"]]]]]]]},["Bin",1,"receive",{"tt_name":"receive","tt_resty":"Unit","tt_args":[["fromUser","User"],["toUser","User"],["prompt","String"],["response","a"]],"tt_body":["TBind",["TTaskApp",[0,0],"iTasks.API.Common.TaskCombinators","appendTopLevelTaskFor",[["TVar",[],"toUser"],["TVar",[],"False"],["TVar",[],"viewInformation +++> fromUser +++> \" confirms: \" prompt [] response"]]],[],["TReturn",["TCleanExpr",[],"_Unit "]]]},"Tip","Tip"],"Tip"]]}