{"tm_name":"BPMC","tm_tasks":["Bin",7,"modify",{"tt_name":"modify","tt_resty":"b","tt_args":[["_x","Tuple2 String a"],["_x","Tuple2 String b"]],"tt_body":["TCaseOrIf","_x",[["_Tuple2 infodocument",["TCaseOrIf","_x",[["_Tuple2 promptresponse",["TParallel",[0,0,0],["ParSumR",["TTaskApp",[0,0,0,0],"iTasks.API.Common.InteractionTasks","viewInformation",[["TCleanExpr",[],["PPCleanExpr","info"]],["TCleanExpr",[],["PPCleanExpr","_Nil"]],["TCleanExpr",[],["PPCleanExpr","document"]]]],["TTaskApp",[0,0,0,1],"iTasks.API.Common.InteractionTasks","updateInformation",[["TCleanExpr",[],["PPCleanExpr","prompt"]],["TCleanExpr",[],["PPCleanExpr","_Nil"]],["TCleanExpr",[],["PPCleanExpr","response"]]]]]]]]]]]]},["Bin",4,"handleRequest",{"tt_name":"handleRequest","tt_resty":"Unit","tt_args":[["foUser","User"],["clientUser","User"],["request","ClientRequest"]],"tt_body":["TLet",[["document","_Document` 34 14"],["clientEmail","request.email"],["clientAdmin","getClient request.id"]],["TBind",["TBind",["TTaskApp",[0,0,0,0],"BPMC","receive",[["TCleanExpr",[],["PPCleanExpr","foUser"]],["TCleanExpr",[],["PPCleanExpr","clientUser"]],["TCleanExpr",[],["PPCleanExpr","\"The following Service Request has been received...\""]],["TCleanExpr",[],["PPCleanExpr","request"]]]],[],["TTaskApp",[0,0,0,1],"BPMC","modify",[["TCleanExpr",[],["AppCleanExpr","_Tuple2",[["PPCleanExpr","\"Info received:\""],["PPCleanExpr","request"]]]],["TCleanExpr",[],["AppCleanExpr","_Tuple2",[["PPCleanExpr","\"Handle Service Request:\""],["PPCleanExpr","document"]]]]]]],["document"],["TBind",["TTaskApp",[0,0,1,0],"BPMC","verify",[["TCleanExpr",[],["AppCleanExpr","_Tuple3",[["PPCleanExpr","\"Verify:\""],["AppCleanExpr","_Tuple2",[["PPCleanExpr","\"Request :\""],["PPCleanExpr","request"]]],["AppCleanExpr","_Tuple2",[["PPCleanExpr","\"Client Info: \""],["PPCleanExpr","clientAdmin"]]]]]]]],["ok"],["TBind",["TCaseOrIf","not ok",[["_",["TTaskApp",[0,0,1,1,0,0,0],"BPMC","inform",[["TCleanExpr",[],["PPCleanExpr","foEmail"]],["TCleanExpr",[],["PPCleanExpr","clientEmail"]],["TCleanExpr",[],["PPCleanExpr","\"your request\""]],["TCleanExpr",[],["AppCleanExpr","toMultiLineText",[["PPCleanExpr","request"]]]]]]],["True",["TTaskApp",[0,0,1,1,0,0,0],"BPMC","inform",[["TCleanExpr",[],["PPCleanExpr","foEmail"]],["TCleanExpr",[],["PPCleanExpr","clientEmail"]],["TCleanExpr",[],["PPCleanExpr","\"your request\""]],["TCleanExpr",[],["AppCleanExpr","toMultiLineText",[["PPCleanExpr","request"]]]]]]]]],[],["TReturn",["TCleanExpr",[],["PPCleanExpr","_Unit"]]]]]]]},["Bin",2,"create",{"tt_name":"create","tt_resty":"a","tt_args":[["info","String"]],"tt_body":["TTaskApp",[0],"iTasks.API.Common.InteractionTasks","enterInformation",[["TCleanExpr",[],["PPCleanExpr","info"]],["TCleanExpr",[],["PPCleanExpr","_Nil"]]]]},["Bin",1,"caseA",{"tt_name":"caseA","tt_resty":"Unit","tt_args":[],"tt_body":["TBind",["TShare","Get","currentUser",[]],["clientUser"],["TBind",["TTaskApp",[0,1,0],"BPMC","create",[["TCleanExpr",[],["PPCleanExpr","\"Submit Service Request\""]]]],["request"],["TBind",["TAssign",["TUVariableUser","foUser"],["TTaskApp",[0,1,1,0,0],"BPMC","handleRequest",[["TCleanExpr",[],["PPCleanExpr","foUser"]],["TCleanExpr",[],["PPCleanExpr","clientUser"]],["TCleanExpr",[],["PPCleanExpr","request"]]]]],[],["TReturn",["TCleanExpr",[],["PPCleanExpr","_Unit"]]]]]]},"Tip","Tip"],"Tip"],["Bin",1,"inform",{"tt_name":"inform","tt_resty":"Unit","tt_args":[["fromUser","EmailAddr"],["toUser","EmailAddr"],["subject","String"],["body","String"]],"tt_body":["TBind",["TTaskApp",[0,0],"iTasks.API.Common.InteractionTasks","updateInformation",[["TCleanExpr",[],["PPCleanExpr","\"Compose an email\""]],["TCleanExpr",[],["PPCleanExpr","_Nil"]],["TCleanExpr",[],["AppCleanExpr","_Email",[["PPCleanExpr","fromUser"],["PPCleanExpr","toUser"],["PPCleanExpr","subject"],["AppCleanExpr","Note",[["AppCleanExpr","toString",[["PPCleanExpr","body"]]]]]]]]]],["mail"],["TBind",["TTaskApp",[0,1,0],"iTasks.API.Core.IntegrationTasks","sendEmail",[["TCleanExpr",[],["PPCleanExpr","mail.email_subject"]],["TCleanExpr",[],["PPCleanExpr","mail.email_body"]],["TCleanExpr",[],["PPCleanExpr","mail.email_from"]],["TCleanExpr",[],["AppCleanExpr","_Cons",[["PPCleanExpr","mail.email_to"],["PPCleanExpr","_Nil"]]]]]],[],["TReturn",["TCleanExpr",[],["PPCleanExpr","_Unit"]]]]]},"Tip","Tip"]],["Bin",2,"verify",{"tt_name":"verify","tt_resty":"Bool","tt_args":[["info","a"]],"tt_body":["TStep",["TTaskApp",[0,0],"iTasks.API.Common.InteractionTasks","viewInformation",[["TCleanExpr",[],["PPCleanExpr","\"Is this Information Correct?\""]],["TCleanExpr",[],["PPCleanExpr","_Nil"]],["TCleanExpr",[],["PPCleanExpr","info"]]]],[["T",["StepOnAction","Yes",["Always",["TReturn",["TCleanExpr",[],["PPCleanExpr","True"]]]]]],["T",["StepOnAction","No",["Always",["TReturn",["TCleanExpr",[],["PPCleanExpr","False"]]]]]]]]},["Bin",1,"receive",{"tt_name":"receive","tt_resty":"Unit","tt_args":[["fromUser","User"],["toUser","User"],["prompt","String"],["response","a"]],"tt_body":["TBind",["TTaskApp",[0,0],"iTasks.API.Common.TaskCombinators","appendTopLevelTaskFor",[["TCleanExpr",[],["PPCleanExpr","toUser"]],["TCleanExpr",[],["PPCleanExpr","False"]],["TCleanExpr",[],["AppCleanExpr","viewInformation",[["AppCleanExpr","+++>",[["PPCleanExpr","fromUser"],["AppCleanExpr","+++>",[["PPCleanExpr","\" confirms: \""],["PPCleanExpr","prompt"]]]]],["PPCleanExpr","_Nil"],["PPCleanExpr","response"]]]]]],[],["TReturn",["TCleanExpr",[],["PPCleanExpr","_Unit"]]]]},"Tip","Tip"],"Tip"]]}